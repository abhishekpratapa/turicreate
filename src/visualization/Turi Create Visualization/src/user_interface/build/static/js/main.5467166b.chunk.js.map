{"version":3,"sources":["elements/Annotate/InfiniteScroll/ImageContainer/index.module.scss","elements/Annotate/SingleImage/ImageLabeler/index.module.scss","elements/Annotate/LabelModal/index.module.scss","elements/Annotate/LabelContainer/Labels/index.module.scss","elements/Annotate/LabelContainer/index.module.scss","elements/Annotate/StatusBar/index.module.scss","elements/Annotate/StatusBar/ToggleButton/index.module.scss","elements/Annotate/SingleImage/index.module.scss","elements/Annotate/ErrorBar/index.module.scss","elements/Annotate/NavigationBar/index.module.scss","elements/Explore/Evaluation/Components/TCEvaluationTable/TCEvaluationHeader/TCEvaluationHeaderCell/assets/caret-down.svg","elements/Explore/Evaluation/Components/TCEvaluationFooter/assets/cancel.svg","elements/Explore/Evaluation/Components/TCEvaluationConfusionTable/TCEvaluationConfusionHeader/TCEvaluationConfusionHeaderCells/assets/caret-down.svg","elements/Annotate/index.module.scss","elements/Annotate/InfiniteScroll/index.module.scss","elements/Explore/Evaluation/Components/TCEvaluationSettings/assets/filter.svg","elements/Explore/Evaluation/Components/TCEvaluationTooltip/assets/carret.svg","elements/Explore/Evaluation/Components/TCEvaluationMetrics/assets/info.svg","elements/Explore/Evaluation/Components/TCEvaluationTable/TCEvaluationRows/TCEvaluationCells/assets/warning.svg","elements/Explore/Evaluation/Components/TCEvaluationTable/TCEvaluationHeader/TCEvaluationHeaderCell/assets/down.svg","elements/Explore/Evaluation/Components/TCEvaluationFooter/assets/down.svg","elements/Explore/Evaluation/Components/TCEvaluationConfusionTable/TCEvaluationConfusionHeader/TCEvaluationConfusionHeaderCells/assets/down.svg","elements/Explore/Evaluation/Components/TCEvaluationImageComponent/assets/export.png","elements/Annotate/StatusBar/assets/swap.svg","elements/Annotate/SingleImage/assets/left_arrow.svg","elements/Annotate/SingleImage/assets/right_arrow.svg","elements/Annotate/LabelContainer/Labels/ProgressBar/index.module.scss","elements/Annotate/ErrorBar/assets/error.svg","elements/Explore/Evaluation/Components/TCEvaluationImageViewerContainer/assets/right.svg","elements/Plot/Chart/index.js","elements/Explore/Table/sticky-table/Table/index.js","elements/Explore/Table/sticky-table/Row/index.js","elements/Explore/Table/sticky-table/index.js","elements/Explore/Table/sticky-table/Cell/index.js","elements/Explore/Table/index.js","elements/Explore/Evaluation/Components/TCEvaluationSettingsSelection/index.js","elements/Explore/Evaluation/Components/TCEvaluationSettings/index.js","elements/Explore/Evaluation/Components/TCEvaluationTooltip/index.js","elements/Explore/Evaluation/Components/TCEvaluationMetrics/index.js","elements/Explore/Evaluation/Components/TCEvaluationOverview/index.js","elements/Explore/Evaluation/Components/TCEvaluationImageCells/TCEvaluationImageCellsHover/index.js","elements/Explore/Evaluation/Components/TCEvaluationImageCells/index.js","elements/Explore/Evaluation/Components/TCEvaluationTable/TCEvaluationRows/TCEvaluationCells/index.js","elements/Explore/Evaluation/Components/TCEvaluationTable/TCEvaluationRows/index.js","elements/Explore/Evaluation/Components/TCEvaluationTable/TCEvaluationHeader/TCEvaluationHeaderCell/index.js","elements/Explore/Evaluation/Components/TCEvaluationTable/TCEvaluationHeader/index.js","elements/Explore/Evaluation/Components/TCEvaluationTable/index.js","elements/Explore/Evaluation/Components/TCEvaluationConfusionTable/TCEvaluationConfusionRow/TCEvaluationConfusionCell/index.js","elements/Explore/Evaluation/Components/TCEvaluationConfusionTable/TCEvaluationConfusionRow/index.js","elements/Explore/Evaluation/Components/TCEvaluationConfusionTable/TCEvaluationConfusionHeader/TCEvaluationConfusionHeaderCells/index.js","elements/Explore/Evaluation/Components/TCEvaluationConfusionTable/TCEvaluationConfusionHeader/index.js","elements/Explore/Evaluation/Components/TCEvaluationConfusionTable/index.js","elements/Explore/Evaluation/Components/TCEvaluationImageComponent/index.js","elements/Explore/Evaluation/Components/TCEvaluationImageViewerContainer/index.js","elements/Explore/Evaluation/Components/TCEvaluationFooter/index.js","elements/Explore/Evaluation/index.js","elements/Annotate/utils.js","elements/Annotate/InfiniteScroll/ImageContainer/index.js","elements/Annotate/InfiniteScroll/index.js","elements/Annotate/StatusBar/ToggleButton/index.js","elements/Annotate/StatusBar/index.js","elements/Annotate/SingleImage/ImageLabeler/index.js","elements/Annotate/SingleImage/index.js","elements/Annotate/LabelContainer/Labels/ProgressBar/index.js","elements/Annotate/LabelContainer/Labels/index.js","elements/Annotate/LabelContainer/index.js","elements/Annotate/LabelModal/index.js","elements/Annotate/ErrorBar/index.js","elements/Annotate/NavigationBar/index.js","elements/Annotate/index.js","index.js"],"names":["module","exports","imgSize","imgMargin","ImageContainer","ImageContainerSourceSelected","selected","realImage","ImageContainerSource","ImageLabel","LoadingContainer","bouncer","sk-bouncedelay","bounce1","bounce2","ImageLabeler","Image","ImageShadow","ImageLoadingHolder","ImageSrc","LabelModal","modalWindow","modalWindowHeader","modalWindowDescription","modalInput","errorMessage","cancelButton","buttonContainer","createButton","Label","LabelSpacer","LabelNameAmount","LabelSelected","LabelName","LabelAnnotatedAmount","LabelApplyButton","LabelContainer","LabelHeader","LabelAddLabel","LabelAddLabelContainer","StatusBar","SwapButton","SwapButtonHelperText","ToggleButton","turnOffBackground","ToggleButtonOn","turnOnBackground","ToggleButtonNib","turnOffNib","Toggled","turnOnNib","SingleImage","SingleImageContainer","RightArrow","LeftArrow","ErrorBar","ErrorMessage","ErrorIcon","ErrorClose","imageNumber","jumpToImageContainer","BottomBar","__webpack_require__","p","Annotate","InfiniteScroll","noselect","ProgressBar","vega","require","vegaTooltip","TcPlot","this","addSpec","props","vega_spec","data","$this","vegaLoading","window","setTimeout","checkLoadedFlag","values","newData","slice","changeSet","changeset","progress","parseFloat","parseInt","document","getElementById","style","width","opacity","prevData","vegaView","y","length","x","remove","insert","change","runAfter","viewInstance","toCanvas","then","result","hidden_container","innerHTML","appendChild","spec","bubbleOpts","showAllFields","vega_json","autosize","type","resize","contains","View","parse","renderer","initialize","vega_container","hover","run","navigator","platform","webkit","messageHandlers","postMessage","status","vegaResult","previousData","JSON","stringify","array","str","i","line","index","childNodes","toDataURL","replace","_this","react_default","a","createElement","className","join","ref","Component","Table","Object","assign","children","Row","console","log","JSONPretty","elementResizeEvent","StickyTable","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","scrollToValue","element","getElementsByClassName","innerText","scrollVal","yScrollbar","scrollTop","offsetTop","offsetHeight","reset_scroll","parent_context","setScrollData","suppressScrollX","suppressScrollY","scrollData","scrollHeight","clientHeight","scrollLeft","xScrollbar","scrollWidth","clientWidth","onScrollBarX","handleScroll","xWrapper","onScrollBarY","yWrapper","onScrollX","Math","max","stickyHeader","transform","scrollXScrollbar","scrollYScrollbar","onScroll","scroll_down","getScrollBottom","scroll_up","getScrollTop","updateScrollDown","updateScrollUp","set_higher","step_size","size","scroll_state","element_to_jump","v","getBoundingClientRect","top","scroll_callback","set_lower","getRows","start_index","end_index","scroll","onResize","setScrollBarDims","setScrollBarWrapperDims","setRowHeights","setColumnWidths","yScrollSize","height","id","floor","random","rowCount","columnCount","xScrollSize","stickyHeaderCount","container_ref","React","createRef","isFirefox","userAgent","toLowerCase","indexOf","table","realTable","querySelector","firstChild","stickyColumn","stickyCorner","addScrollBarEventHandlers","header_elements","getModeHeights","removeEventListener","unbind","addEventListener","scrollPadding","padding","offsetWidth","setScrollBarPaddings","getSize","heights","stickyColumnCount","r","push","arr","mode","numMapping","greatestFreq","forEach","number","cellToCopy","row_value","undefined","column_offset_top","left","c","cell","stickyWidth","minWidth","fixedColumnsHeader","rows","cells","_this2","columnsCount","stickyRows","row","Children","toArray","accordion","column","column_name","data_entries","flex_type_enum","string","word-wrap","dict","vector","list","nd_vector","json","Row_Row","position","overflow","zIndex","textAlign","background","spacers","key","cloneElement","node","getStickyCorner","getStickyColumns","getStickyHeader","Table_Table","PureComponent","defaultProps","format","TcTable","state","setState","table_spec","TCEvaluationSettingsSelection","name","checked","accuracy","onChange","changeAccuracy","bind","f1_score","changeF1Score","precision","changePrecision","recall","changeRecall","TCEvaluationSettings","changeOpenClose","open","renderSettings","Evaluation_Components_TCEvaluationSettingsSelection","assertThisInitialized","onClick","src","filter","TCEvaluationTooltip","text","carret","TCEvaluationMetrics","renderIcon","tooltip","info","renderTooltip","Evaluation_Components_TCEvaluationTooltip","title","value","TCEvaluationOverview","formatDecimal","d3","returnMetrics","accuracy_visible","Evaluation_Components_TCEvaluationMetrics","total_correct","total_num","precision_visible","recall_visible","f1_score_visible","Evaluation_Components_TCEvaluationSettings","model_type","iterations","renderMetrics","TCEvaluationImageCellsHover","TCEvaluationImageCells","onHoverState","offHoverState","renderImage","Components_TCEvaluationImageCells_TCEvaluationImageCellsHover","onMouseEnter","onMouseLeave","TCEvaluationCells","renderPercentLeft","color","renderAmountLeft","renderPercentRight","renderAmountRight","renderWarning","warning","map","Evaluation_Components_TCEvaluationImageCells","TCEvaluationRows","renderSelected","renderAccuracy","TCEvaluationTable_TCEvaluationRows_TCEvaluationCells","correct","incorrect","hovered","renderPrecision","renderRecall","renderF1Score","mouse_enter","mouse_leave","onclick","correct_images","num_examples","max_value","TCEvaluationHeaderCell","renderCarret","enabled","direction","caret_down","down","TCEvaluationHeader","clickedAccuracy","updateSortBy","updateSortDirection","clickedPrecision","clickedRecall","clickedF1Score","clickedCell","clickNumTest","clickNumTrain","TCEvaluationTable_TCEvaluationHeader_TCEvaluationHeaderCell","sort_by","sort_direction","TCEvaluationTable","maxValueNumTest","apply","o","sortingColumns","b","selectClassName","footer_open","max_test","Components_TCEvaluationTable_TCEvaluationHeader","sort","Components_TCEvaluationTable_TCEvaluationRows","filter_confusion","row_click","TCEvaluationConfusionCell","TCEvaluationConfusionRow","selectRowConfusions","consideration","actual","predicted","TCEvaluationConfusionTable_TCEvaluationConfusionRow_TCEvaluationConfusionCell","count","maxValue","images","TCEvaluationConfusionHeaderCell","renderCaret","TCEvaluationConfusionHeader","clickActual","updateSortByConfusion","clickPredicted","clickCount","TCEvaluationConfusionHeader_TCEvaluationConfusionHeaderCells","sort_by_confusions","sort_direction_confusions","TCEvaluationConfusionTable","maxCount","considerations","filterData","sortData","Components_TCEvaluationConfusionTable_TCEvaluationConfusionHeader","Components_TCEvaluationConfusionTable_TCEvaluationConfusionRow","TCEvaluationImageComponent","setHeight","imgEl","current","onLoad","export_img","TCEvaluationImageViewerContainer","Evaluation_Components_TCEvaluationImageComponent","TCEvaluationFooter","cssOpenStyleContainer","min-height","innerHeight","cssOpenStyleIcon","selected_actual","selected_prediction","filterErrorData","render_table","Evaluation_Components_TCEvaluationImageViewerContainer","reset","Evaluation_Components_TCEvaluationConfusionTable","renderPill","cancel","resetFilter","renderPredictedPill","renderLabel","updateFooterOpen","down_arrow","TCEvaluation","loadIncorrect","selected_label","incorrect_classification","previous_incorrect_dict","label","setFooterOpen","summarySeedData","label_metrics","dataArr","correct_count","correct_data","correct_classification","totalCorrect","correct_num","totalNum","createConsiderations","incorrect_keys","keys","considerations_array","k","current_val","updatedSelectedRow","selected_actual_confusion","selected_actual_prediction","reduce","labels","inc_class","Evaluation_Components_TCEvaluationOverview","max_iterations","model_name","Evaluation_Components_TCEvaluationTable","Evaluation_Components_TCEvaluationFooter","LabelType","INTEGER","STRING","freeze","image_click","e","shiftKey","addToSelected","removeSelected","toggleInfiniteScroll","updateIncrementalCurrentIndex","renderAnnotation","Number","isInteger","annotation","concat","resizeImage","CELL_PADDING","updateDimensions","requestAnimationFrame","componentHeight","currentComponent","componentWidth","event","enableScroll","imgProperties","imgOffset","scrollOffset","scrollDownTrigger","scrollUpTrigger","scaling","numRenderedbox","numX","numY","startValue","numElements","tempEndVal","endVal","getData","getAnnotations","scrollBy","startVal","renderBoxes","boxes","endValue","selectedBoxes","infiniteSelected","InfiniteScroll_ImageContainer","includes","toString","imageData","annotationData","onBackClick","innerWidth","swapInfiniteScroll","StatusBarMetrics","total","swap","handleImageLoaded","scaling_factor","left_padding","bounce3","decrementIndex","incrementalCurrentIndex","incrementIndex","leftArrow","SingleImage_ImageLabeler","rightArrow","css_gradient","defineProperty","percent","styles","percent_gradient","num_annotated","num_expected","classes","active","Labels_ProgressBar","setAnnotation","infiniteScroll","setAnnotationMass","checkActive","selected_objects","LabelButtonContainer","Labels","openLabelModal","componentDidMount","labelInput","focus","renderError","error","closeLabelModal","placeholder","handleEventLabelModalValue","input","createLabel","LabelModalValue","message","clearError","NavigationBar","handleChange","enterPressJumpRow","target","keyCode","image_number","isNaN","setError","onKeyDown","DEFAULT_NUM_EXPECTED","CACHE_SIZE","cleanCache","start","end","sorted_keys","lower_bound","upper_bound","intermediate_check","abs","delete_keys","imgData","getHelper","ParcelMessage","Root","fromJSON","messageFormat","lookupType","payload","getter","err","verify","Error","create","buffer","encode","finish","encoded","btoa","String","fromCharCode","postMessageToNativeClient","setAnnotationData","previousAnnotationData","stringLabel","intLabel","setImageData","previousImageData","totalError","error_message","labelCreationError","labelModal","l","acc","mutatorLabels","toggleHideAnnotated","hideAnnotated","selectedValue","rowIndex","previousLabelData","previousLabel","tempLabel","annotations","renderMainContent","Annotate_InfiniteScroll","metadata","numExamples","Annotate_SingleImage","renderModal","Annotate_LabelModal","Annotate_ErrorBar","labeltype","propLabels","imageClassification","elementCount","Annotate_StatusBar","Annotate_NavigationBar","leftBar","Annotate_LabelContainer","command_down","body_zoom","onkeydown","key_code","charCode","body","zoom","onkeyup","SpecType","summary","annotate","evaluate","integer","float","datetime","image","component_rendered","spec_type","setSpec","display","ReactDOM","render","Plot_Chart","elements_Explore_Table","Evaluation","setProtoMessage","Uint8Array","from","atob","charCodeAt","decoded","decode","hasOwnProperty","elements_Annotate","row_index","updateData","getSpec","setAccordionData","export_png","exportPNG","handleInput","input_data","json_obj","preventDefault"],"mappings":"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","file":"static/js/main.5467166b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imgSize\":\"90\",\"imgMargin\":\"17\",\"ImageContainer\":\"ImageContainer_ImageContainer__1eeKe\",\"ImageContainerSourceSelected\":\"ImageContainer_ImageContainerSourceSelected__16Uc5\",\"selected\":\"ImageContainer_selected__Hr8Au\",\"realImage\":\"ImageContainer_realImage__1xpNg\",\"ImageContainerSource\":\"ImageContainer_ImageContainerSource__UdUuP\",\"ImageLabel\":\"ImageContainer_ImageLabel__NEU6k\",\"LoadingContainer\":\"ImageContainer_LoadingContainer__2OZm1\",\"bouncer\":\"ImageContainer_bouncer__2spSS\",\"sk-bouncedelay\":\"ImageContainer_sk-bouncedelay__16q3C\",\"bounce1\":\"ImageContainer_bounce1__3WgxR\",\"bounce2\":\"ImageContainer_bounce2__SCuGj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageLabeler\":\"ImageLabeler_ImageLabeler__pPq8q\",\"Image\":\"ImageLabeler_Image__2BJdc\",\"ImageShadow\":\"ImageLabeler_ImageShadow__2emr5\",\"ImageLoadingHolder\":\"ImageLabeler_ImageLoadingHolder__3hDNu\",\"ImageSrc\":\"ImageLabeler_ImageSrc__2mgRU\",\"sk-bouncedelay\":\"ImageLabeler_sk-bouncedelay__2pq--\",\"ImageContainer\":\"ImageLabeler_ImageContainer__312vS\",\"bounce1\":\"ImageLabeler_bounce1__2otYl\",\"bounce2\":\"ImageLabeler_bounce2__3Bfi1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LabelModal\":\"LabelModal_LabelModal__fBPPt\",\"modalWindow\":\"LabelModal_modalWindow__ojuGT\",\"modalWindowHeader\":\"LabelModal_modalWindowHeader__zG89h\",\"modalWindowDescription\":\"LabelModal_modalWindowDescription__2C-kZ\",\"modalInput\":\"LabelModal_modalInput__3T47e\",\"errorMessage\":\"LabelModal_errorMessage__2H40u\",\"cancelButton\":\"LabelModal_cancelButton__2Rzlr\",\"buttonContainer\":\"LabelModal_buttonContainer__UNHW_\",\"createButton\":\"LabelModal_createButton__2bQg5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Label\":\"Labels_Label__2y4_x\",\"LabelSpacer\":\"Labels_LabelSpacer__1D9Wy\",\"LabelNameAmount\":\"Labels_LabelNameAmount__K6RcK\",\"LabelSelected\":\"Labels_LabelSelected__1kWvg\",\"LabelName\":\"Labels_LabelName__KpOmy\",\"LabelAnnotatedAmount\":\"Labels_LabelAnnotatedAmount__KxNpE\",\"LabelApplyButton\":\"Labels_LabelApplyButton__3i1xq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LabelContainer\":\"LabelContainer_LabelContainer__2JB7g\",\"LabelHeader\":\"LabelContainer_LabelHeader__2M1bj\",\"LabelAddLabel\":\"LabelContainer_LabelAddLabel__xzawj\",\"LabelAddLabelContainer\":\"LabelContainer_LabelAddLabelContainer__k8I2A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"StatusBar\":\"StatusBar_StatusBar__3Wqje\",\"SwapButton\":\"StatusBar_SwapButton__3Ry9N\",\"SwapButtonHelperText\":\"StatusBar_SwapButtonHelperText__Mi4Gx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ToggleButton\":\"ToggleButton_ToggleButton__MNX1r\",\"turnOffBackground\":\"ToggleButton_turnOffBackground__uvv6a\",\"ToggleButtonOn\":\"ToggleButton_ToggleButtonOn__3ARsD\",\"turnOnBackground\":\"ToggleButton_turnOnBackground__26q0R\",\"ToggleButtonNib\":\"ToggleButton_ToggleButtonNib__19-gi\",\"turnOffNib\":\"ToggleButton_turnOffNib__1RTAH\",\"Toggled\":\"ToggleButton_Toggled__2x-kA\",\"turnOnNib\":\"ToggleButton_turnOnNib__3QTPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SingleImage\":\"SingleImage_SingleImage__1etT2\",\"SingleImageContainer\":\"SingleImage_SingleImageContainer__1yOiT\",\"RightArrow\":\"SingleImage_RightArrow__3Bhms\",\"LeftArrow\":\"SingleImage_LeftArrow__ugJdQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ErrorBar\":\"ErrorBar_ErrorBar__2dq3m\",\"ErrorMessage\":\"ErrorBar_ErrorMessage__1h4NA\",\"ErrorIcon\":\"ErrorBar_ErrorIcon__M4UYP\",\"ErrorClose\":\"ErrorBar_ErrorClose__1PqMG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageNumber\":\"NavigationBar_imageNumber__368mr\",\"jumpToImageContainer\":\"NavigationBar_jumpToImageContainer__3lNHb\",\"BottomBar\":\"NavigationBar_BottomBar__1KFAL\"};","module.exports = __webpack_public_path__ + \"static/media/caret-down.ed2cbc77.svg\";","module.exports = __webpack_public_path__ + \"static/media/cancel.b73df5f8.svg\";","module.exports = __webpack_public_path__ + \"static/media/caret-down.ed2cbc77.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Annotate\":\"Annotate_Annotate__2RByF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"InfiniteScroll\":\"InfiniteScroll_InfiniteScroll__aoF4O\",\"noselect\":\"InfiniteScroll_noselect__2AZ6h\"};","module.exports = __webpack_public_path__ + \"static/media/filter.6be96c8e.svg\";","module.exports = __webpack_public_path__ + \"static/media/carret.d006a3ae.svg\";","module.exports = __webpack_public_path__ + \"static/media/info.eb907d77.svg\";","module.exports = __webpack_public_path__ + \"static/media/warning.1a77a1d2.svg\";","module.exports = __webpack_public_path__ + \"static/media/down.02e4572e.svg\";","module.exports = __webpack_public_path__ + \"static/media/down.2104bcc9.svg\";","module.exports = __webpack_public_path__ + \"static/media/down.02e4572e.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/swap.c28fad4b.svg\";","module.exports = __webpack_public_path__ + \"static/media/left_arrow.fb9494c3.svg\";","module.exports = __webpack_public_path__ + \"static/media/right_arrow.ab264aa7.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProgressBar\":\"ProgressBar_ProgressBar__3GokE\"};","module.exports = __webpack_public_path__ + \"static/media/error.78f3f4cd.svg\";","module.exports = __webpack_public_path__ + \"static/media/right.7f1561b5.svg\";","import React, { Component } from 'react';\n\nimport './index.css';\n\nvar vega = require('vega');\nvar vegaTooltip = require('vega-tooltip');\n\nclass TcPlot extends Component {\n\n    componentDidMount(){\n        this.addSpec(this.props.vega_spec);\n    }\n\n    checkLoadedFlag(data, $this) {\n        if($this.vegaLoading) {\n            window.setTimeout($this.checkLoadedFlag, 100, data, $this);\n        } else {\n            if($this.vegaLoading){\n                debugger;\n            }\n\n            if (!data || !data.values) {\n                debugger;\n            }\n\n            var newData = data.values.slice();\n\n            var changeSet = vega.changeset();\n\n            if(data.progress != null){\n                var progress = parseFloat(data.progress);\n                if(parseInt(progress*100, 10) >= 100){\n                    document.getElementById('progress_bar').style.width = parseInt(progress*100)+\"%\";\n                    setTimeout(function(){\n                               document.getElementById('progress_bar').style.opacity = \"0.0\";\n                               }, 1000);\n                }else{\n                    document.getElementById('progress_bar').style.width = parseInt(progress*100)+\"%\";\n                }\n            }\n\n            var prevData = $this.vegaView.data(\"source_2\");\n\n            for(var y = 0; y < newData.length; y++ ){\n                if(newData[y][\"a\"] != null){\n                    for(var x = 0; x < prevData.length; x++ ){\n                        if(prevData[x][\"a\"] === newData[y][\"a\"]){\n                            changeSet = changeSet.remove(prevData[x]);\n                        }\n                    }\n                }else{\n                    if(prevData.length > 0){\n                        changeSet = changeSet.remove(prevData);\n                        break;\n                    }\n                }\n            }\n\n            changeSet = changeSet.insert(newData);\n            $this.vegaView.change(\"source_2\", changeSet).runAfter(function(viewInstance) {\n\n                                                                  });\n\n            $this.vegaView.toCanvas().then(function(result){\n                                           $this.hidden_container.innerHTML = '';\n                                           $this.hidden_container.appendChild(result);\n                                           });\n        }\n    }\n\n    updateData(data){\n        this.checkLoadedFlag(data, this);\n    }\n\n    addSpec(spec){\n        this.bubbleOpts = {\n        showAllFields: true,\n        };\n\n        this.vega_json = spec;\n        this.vega_json.autosize = {\"type\": \"fit\", \"resize\": true, \"contains\": \"padding\"};\n\n        if(this.vega_json[\"metadata\"] != null){\n            if(this.vega_json[\"metadata\"][\"bubbleOpts\"] != null){\n                this.bubbleOpts = this.vega_json[\"metadata\"][\"bubbleOpts\"];\n            }\n        }\n\n        this.vegaLoading = true;\n        this.vegaView = new vega.View(vega.parse(this.vega_json), {'renderer': 'svg'})\n                                .initialize(this.vega_container)\n                                .hover()\n                                .run();\n        this.vegaLoading = false;\n        vegaTooltip.vega(this.vegaView, this.bubbleOpts);\n        \n        if(window.navigator.platform === 'MacIntel'){\n            window.webkit.messageHandlers[\"scriptHandler\"].postMessage({status: 'ready'});\n        }\n    }\n\n    getSpec(){\n        var vegaResult = this.vega_json\n        var previousData = this.vegaView.data(\"source_2\");\n\n        for(var x = 0; x < vegaResult.data.length; x++){\n            if(vegaResult.data[x][\"name\"] === \"source_2\"){\n                vegaResult.data[x][\"values\"] = previousData;\n            }\n        }\n         \n        return JSON.stringify(vegaResult);\n    }\n\n    getData(){\n        var previousData = this.vegaView.data(\"source_2\");\n\n        var array = typeof previousData != 'object' ? JSON.parse(previousData) : previousData;\n        var str = '';\n\n        for (var i = 0; i < array.length; i++) {\n            var line = '';\n            for (var index in array[i]) {\n                if (line != '') line += ','\n\n                    line += array[i][index];\n            }\n\n            str += line + '\\r\\n';\n        }\n\n        return str;\n    }\n\n    exportPNG(){\n        return this.hidden_container.childNodes[0].toDataURL(\"image/png\").replace(/^data:image\\/(png|jpg);base64,/, \"\");\n    }\n\n    render() {\n        return (\n                <div>\n                <div className={[\"vega_container\"].join(' ')} ref={(vega_container) => { this.vega_container = vega_container; }}>\n                </div>\n                <div className={[\"hidden_cont\"].join(' ')} ref={(hidden_container) => { this.hidden_container = hidden_container; }}>\n                </div>\n                </div>\n                );\n    }\n}\n\nexport default TcPlot;\n","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\n\nexport default class Table extends Component {\n  render() {\n    return (\n      <div {...this.props} className={'sticky-table-container ' + (this.props.className || '')}>\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\n\nexport default class Row extends Component {\n  render() {\n    if(this.props.className == \"accordian_window\"){\n      console.log(this.props);\n    }\n    return (\n      <div {...this.props} className={'sticky-table-row ' + (this.props.className || '')}>\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport Table from './Table';\nimport Row from './Row';\nimport Cell from './Cell';\n\nvar JSONPretty = require('react-json-pretty');\nvar elementResizeEvent = require('element-resize-event');\n\nclass StickyTable extends PureComponent {\n  static propTypes = {\n    stickyHeaderCount: PropTypes.number,\n    stickyColumnCount: PropTypes.number,\n    onScroll: PropTypes.func\n  };\n\n  static defaultProps = {\n    stickyHeaderCount: 1,\n    stickyColumnCount: 1\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.id = Math.floor(Math.random() * 1000000000) + '';\n\n    this.rowCount = 0;\n    this.columnCount = 0;\n    this.xScrollSize = 0;\n    this.yScrollSize = 0;\n    this.stickyHeaderCount = props.stickyHeaderCount === 0 ? 0 : (this.stickyHeaderCount || 1);\n    this.container_ref = React.createRef();\n\n    this.isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\n  }\n\n  componentDidMount() {\n    this.table = document.getElementById('sticky-table-' + this.id);\n\n    if (this.table) {\n      this.realTable = this.table.querySelector('#sticky-table-x-wrapper').firstChild;\n      this.xScrollbar = this.table.querySelector('#x-scrollbar');\n      this.yScrollbar = this.table.querySelector('#y-scrollbar');\n      this.xWrapper = this.table.querySelector('#sticky-table-x-wrapper');\n      this.yWrapper = this.table.querySelector('#sticky-table-y-wrapper');\n      this.stickyHeader = this.table.querySelector('#sticky-table-header');\n      this.stickyColumn = this.table.querySelector('#sticky-table-column');\n      this.stickyCorner = this.table.querySelector('#sticky-table-corner');\n      this.setScrollData();\n\n      elementResizeEvent(this.realTable, this.onResize);\n\n      this.onResize();\n      setTimeout(this.onResize);\n      this.addScrollBarEventHandlers();\n      this.scrollToValue();\n    }\n  }\n\n  componentDidUpdate() {\n    this.scrollToValue();\n    this.onResize();\n      \n    var header_elements = document.getElementsByClassName(\"header_element\");\n    \n    for(var v = 0; v < header_elements.length; v++){\n        header_elements[v].style.height = this.getModeHeights() + \"px\";\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.table) {\n      this.xWrapper.removeEventListener('scroll', this.onScrollX);\n      this.xWrapper.removeEventListener('scroll', this.scrollXScrollbar);\n      this.xScrollbar.removeEventListener('scroll', this.onScrollBarX);\n\n      this.yWrapper.removeEventListener('scroll', this.scrollYScrollbar);\n      this.yScrollbar.removeEventListener('scroll', this.onScrollBarY);\n\n      elementResizeEvent.unbind(this.realTable);\n    }\n  }\n\n  scrollToValue = () => {\n    var element = document.getElementsByClassName(\"header_element\");\n\n    for(var x = 0; x < element.length; x++){\n        if(element[x].innerText == this.scrollVal || element[x].innerText == this.props.scrollVal){\n            this.yScrollbar.scrollTop = element[x].offsetTop - element[x].offsetHeight - 6;\n            this.scrollVal = -1;\n            this.props.scrollVal = -1;\n            break;\n        }\n    }\n      \n    this.props.reset_scroll(this.props.parent_context);\n  }\n\n  addScrollBarEventHandlers() {\n    this.xWrapper.addEventListener('scroll', this.onScrollX);\n\n    //X Scrollbars\n    this.xWrapper.addEventListener('scroll', this.scrollXScrollbar);\n    this.xScrollbar.addEventListener('scroll', this.onScrollBarX);\n\n    //Y Scrollbars\n    this.yWrapper.addEventListener('scroll', this.scrollYScrollbar);\n    this.yScrollbar.addEventListener('scroll', this.onScrollBarY);\n  }\n\n  setScrollData = () => {\n    this.suppressScrollX = false;\n    this.suppressScrollY = false;\n\n    return this.scrollData = {\n      scrollTop: this.yScrollbar.scrollTop,\n      scrollHeight: this.yScrollbar.scrollHeight,\n      clientHeight: this.yScrollbar.clientHeight,\n      scrollLeft: this.xScrollbar.scrollLeft,\n      scrollWidth: this.xScrollbar.scrollWidth,\n      clientWidth: this.xScrollbar.clientWidth\n    };\n  }\n\n  onScrollBarX = () => {\n    if (!this.suppressScrollX) {\n      this.scrollData.scrollLeft = this.xWrapper.scrollLeft = this.xScrollbar.scrollLeft;\n      this.suppressScrollX = true;\n    } else {\n      this.handleScroll();\n      this.suppressScrollX = false;\n    }\n  }\n\n  onScrollBarY = () => {\n    if (!this.suppressScrollY) {\n      this.scrollData.scrollTop = this.yWrapper.scrollTop = this.yScrollbar.scrollTop;\n      this.suppressScrollY = true;\n    } else {\n      this.handleScroll();\n      this.suppressScrollY = false;\n    }\n  }\n\n  onScrollX = () => {\n    var scrollLeft = Math.max(this.xWrapper.scrollLeft, 0);\n    this.stickyHeader.style.transform = 'translate(' + (-1 * scrollLeft) + 'px, 0)';\n  }\n\n  scrollXScrollbar = () => {\n    if (!this.suppressScrollX) {\n      this.scrollData.scrollLeft = this.xScrollbar.scrollLeft = this.xWrapper.scrollLeft;\n      this.suppressScrollX = true;\n    } else {\n      this.handleScroll();\n      this.suppressScrollX = false;\n    }\n  }\n\n  scrollYScrollbar = () => {\n    if (!this.suppressScrollY) {\n      this.scrollData.scrollTop = this.yScrollbar.scrollTop = this.yWrapper.scrollTop;\n      this.suppressScrollY = true;\n    } else {\n      this.handleScroll();\n      this.suppressScrollY = false;\n    }\n  }\n\n  handleScroll = () => {\n    if (this.props.onScroll) {\n      this.props.onScroll(this.scrollData);\n    }\n    \n    var scroll_down = this.getScrollBottom();\n    var scroll_up = this.getScrollTop();\n      \n    if(scroll_down == 1){\n      this.updateScrollDown();\n    }\n\n    if(scroll_up == 0){\n      this.updateScrollUp();\n    }\n  }\n    \n  updateScrollDown = () => {\n    if(this.props.set_higher*this.props.step_size >= this.props.size){\n      return \"Max value reached\";\n    }else if(this.props.scroll_state){\n      var element = document.getElementsByClassName(\"header_element\");\n      if(element.length > 0){\n          \n        var element_to_jump = element[element.length - 1].innerText;\n        \n        for(var v = 0; v < element.length; v++){\n            var bounding_rectangle = element[v].getBoundingClientRect();\n            if(bounding_rectangle.top > 0){\n                element_to_jump = element[v].innerText;\n                break;\n            }\n        };\n        \n        this.scrollVal = element_to_jump;\n        this.props.scroll_callback(this.scrollVal, this.props.parent_context, 1);\n      }\n    }\n  }\n\n  updateScrollUp = () => {\n    if(this.props.set_lower*this.props.step_size <= 0){\n      return \"Min value reached\";\n    }else if(this.props.scroll_state){\n      var element = document.getElementsByClassName(\"header_element\");\n\n      if(element.length > 0){\n        this.scrollVal = parseInt(element[0].innerText, 10);\n        this.props.scroll_callback(this.scrollVal, this.props.parent_context, -1);\n      }\n    }\n  }\n\n  getScrollBottom = () => {\n    return (this.yScrollbar.scrollTop + this.yScrollbar.clientHeight)/this.yScrollbar.scrollHeight;\n  }\n\n  getScrollTop = () => {\n    return (this.yScrollbar.scrollTop)/this.yScrollbar.scrollHeight;\n  }\n\n  getRows = (start_index, end_index) => {\n    this.scroll = false;\n  }\n    \n  onResize = () => {\n    this.setScrollBarDims();\n    this.setScrollBarWrapperDims();\n    this.setRowHeights();\n    this.setColumnWidths();\n    this.setScrollData();\n    this.handleScroll();\n  }\n\n  setScrollBarPaddings() {\n    var scrollPadding = '0px 0px ' + this.xScrollSize + 'px 0px';\n    this.table.style.padding = scrollPadding;\n\n    var scrollPadding = '0px ' + this.yScrollSize + 'px 0px 0px';\n    this.xWrapper.firstChild.style.padding = scrollPadding;\n  }\n\n  setScrollBarWrapperDims = () => {\n    this.xScrollbar.style.width = 'calc(100% - ' + this.yScrollSize + 'px)';\n    this.yScrollbar.style.height = 'calc(100% - ' + this.stickyHeader.offsetHeight + 'px)';\n    this.yScrollbar.style.top = this.stickyHeader.offsetHeight + 'px';\n  }\n\n  setScrollBarDims() {\n    this.xScrollSize = this.xScrollbar.offsetHeight - this.xScrollbar.clientHeight;\n    this.yScrollSize = this.yScrollbar.offsetWidth - this.yScrollbar.clientWidth;\n\n    if (!this.isFirefox) {\n      this.setScrollBarPaddings();\n    }\n\n    var width = this.getSize(this.realTable.firstChild).width;\n    this.xScrollbar.firstChild.style.width = width + 'px';\n\n    var height = this.getSize(this.realTable).height + this.xScrollSize - this.stickyHeader.offsetHeight;\n    this.yScrollbar.firstChild.style.height = height + 'px';\n\n    if (this.xScrollSize) this.xScrollbar.style.height = this.xScrollSize + 1 + 'px';\n    if (this.yScrollSize)  this.yScrollbar.style.width = this.yScrollSize + 1  + 'px';\n  }\n\n  getModeHeights(){\n    var mode = function mode(arr) {\n      var numMapping = {};\n      var greatestFreq = 0;\n      var mode;\n      arr.forEach(function findMode(number) {\n          numMapping[number] = (numMapping[number] || 0) + 1;\n\n          if (greatestFreq < numMapping[number]) {\n              greatestFreq = numMapping[number];\n              mode = number;\n          }\n      });\n      return +mode;\n    }\n\n    var heights = [];\n      \n    if (this.props.stickyColumnCount) {\n      for (var r = 0; r < this.rowCount; r++) {\n        heights.push(this.getSize(this.realTable.childNodes[r].childNodes[0]).height)\n      }\n    }\n\n    return mode(heights);\n  }\n\n  setRowHeights() {\n    var r, c, cellToCopy, height;\n\n    var row_value = (this.props.y != undefined)?this.props.y:-1;\n    var column_offset_top = 0;\n      \n    if (this.props.stickyColumnCount) {\n      for (r = 1; r < this.rowCount; r++) {\n        cellToCopy = this.realTable.childNodes[r].firstChild;\n        if (cellToCopy) {\n          this.realTable.childNodes[r].childNodes[1].style.height = this.getModeHeights() + \"px\";\n          this.stickyColumn.firstChild.childNodes[r].style.height = this.getModeHeights() + \"px\";\n          height = this.getSize(cellToCopy).height;\n          this.stickyColumn.firstChild.childNodes[r].firstChild.style.height = height + 'px';\n        \n          if (r == 0 && this.stickyCorner.firstChild.childNodes[r]) {\n            this.stickyCorner.firstChild.firstChild.firstChild.style.height = height + 'px';\n          }\n        }\n        \n        if(row_value == r){\n            column_offset_top  = this.stickyColumn.firstChild.childNodes[r].offsetTop;\n        }\n      }\n      this.stickyCorner.firstChild.firstChild.firstChild.style.height = this.stickyHeader.offsetHeight + 'px';\n      this.stickyColumn.firstChild.childNodes[0].firstChild.style.height = this.stickyHeader.offsetHeight+'px';\n    \n      \n        if(document.getElementById(\"data_container\")){\n            document.getElementById(\"data_container\").style.height =  this.getModeHeights()*4 - 30 + \"px\"\n            document.getElementById(\"data_container\").style.width = (this.xScrollbar.clientWidth - 30) + \"px\";\n            document.getElementById(\"data_container\").style.left = 15 + \"px\";\n            document.getElementById(\"data_container\").style.top = column_offset_top + this.getModeHeights() + 15 + \"px\";\n        }\n    }\n  }\n\n  setColumnWidths() {\n    var c, cellToCopy, cellStyle, width, cell, stickyWidth;\n\n    if (this.stickyHeaderCount) {\n      stickyWidth = 0;\n\n      for (c = 0; c < this.columnCount; c++) {\n        cellToCopy = this.realTable.firstChild.childNodes[c];\n\n        if (cellToCopy) {\n          width = this.getSize(cellToCopy).width;\n\n          cell = this.table.querySelector('#sticky-header-cell-' + c);\n\n          cell.style.width = width + 'px';\n          cell.style.minWidth = width + 'px';\n\n          const fixedColumnsHeader = this.stickyCorner.firstChild.firstChild;\n          if (fixedColumnsHeader && fixedColumnsHeader.childNodes[c]) {\n            cell = fixedColumnsHeader.childNodes[c];\n            cell.style.width = width + 'px';\n            cell.style.minWidth = width + 'px';\n\n            cell = fixedColumnsHeader.childNodes[c];\n            cell.style.width = width + 'px';\n            cell.style.minWidth = width + 'px';\n            stickyWidth += width;\n          }\n        }\n      }\n\n      this.stickyColumn.firstChild.style.width = stickyWidth + 'px';\n      this.stickyColumn.firstChild.style.minWidth = stickyWidth + 'px';\n    }\n  }\n\n  getStickyColumns(rows) {\n    const columnsCount = this.props.stickyColumnCount;\n    var cells;\n    var stickyRows = [];\n    var row_value = (this.props.y != undefined)?parseInt(this.props.y, 10):-1;\n      \n      \n    if(this.props.scrollVal != -1){\n      this.scroll = false;\n    }\n\n    rows.forEach((row, r) => {\n      cells = React.Children.toArray(row.props.children);\n      if(row.props.accordion && row_value > 0) {\n        if(this.props.data){\n          var one_indexed = this.props.data.index  + 1;\n          if(one_indexed == parseInt(this.props.y, 10) && this.props.data.column == this.props.column_name && this.props.column_name != undefined){\n            var data_entries = [];\n            switch (this.props.data.type) {\n              case window.flex_type_enum.string:\n                data_entries.push(<div style={{\"word-wrap\": \"break-word\"}}>{this.props.data.data}</div>);\n                break;\n              case window.flex_type_enum.dict:\n              case window.flex_type_enum.vector:\n              case window.flex_type_enum.list:\n              case window.flex_type_enum.nd_vector:\n                data_entries.push(<JSONPretty className=\"json-pretty\" json={this.props.data.data}></JSONPretty>);\n                break;\n              default:\n                break;\n            }\n\n            stickyRows.push(\n              <Row {...row.props}>\n                  <div id=\"data_container\" style={{\"position\": \"absolute\", \"overflow\": \"scroll\", \"width\": 100, \"left\": 3, \"zIndex\": 99, \"textAlign\": \"left\", \"background\": \"#F7F7F7\"}}>\n                  <div style={{\"padding\": 10}}>\n                    {data_entries}\n                  </div>\n                </div>\n              </Row>\n            );\n          }else{\n            stickyRows.push(\n              <Row {...row.props}>\n                <div id=\"data_container\" style={{\"position\": \"absolute\", \"overflow\": \"scroll\", \"width\": 100, \"left\": 3, \"zIndex\": 99, \"textAlign\": \"left\", \"background\": \"#F7F7F7\"}}>\n                  <div style={{\"padding\": 10}}>\n                    Loading...\n                  </div>\n                </div>\n              </Row>\n            );\n          }\n        }else{\n          stickyRows.push(\n            <Row {...row.props}>\n              <div id=\"data_container\" style={{\"position\": \"absolute\", \"overflow\": \"scroll\", \"width\": 100, \"left\": 3, \"zIndex\": 99, \"textAlign\": \"left\", \"background\": \"#F7F7F7\"}}>\n                <div style={{\"padding\": 10}}>\n                  Loading...\n                </div>\n              </div>\n            </Row>\n          );\n        }\n      } else if(row.props.spacers && row_value > 0) {\n        stickyRows.push(\n          <Row {...row.props} key={r}>\n            {cells.slice(0, columnsCount)}\n          </Row>\n        );\n      }else{\n        stickyRows.push(\n          <Row {...row.props} id='' key={r}>\n            {cells.slice(0, columnsCount)}\n          </Row>\n        );\n      }\n    });\n\n    return stickyRows;\n  }\n\n  getStickyHeader(rows) {\n    var row = rows[0];\n    var cells = [];\n\n    React.Children.toArray(row.props.children).forEach((cell, c) => {\n      cells.push(React.cloneElement(cell, {id: 'sticky-header-cell-' + c, key: c}));\n    });\n\n    return (\n      <Row {...row.props} id='sticky-header-row'>\n        {cells}\n      </Row>\n    );\n  }\n\n  getStickyCorner(rows) {\n    const columnsCount = this.props.stickyColumnCount;\n    var cells;\n    var stickyCorner = [];\n\n    rows.forEach((row, r) => {\n      if (r === 0) {\n        cells = React.Children.toArray(row.props.children);\n\n        stickyCorner.push(\n          <Row {...row.props} id='' key={r}>\n            {cells.slice(0, columnsCount)}\n          </Row>\n        );\n      }\n    });\n    return stickyCorner;\n  }\n\n  getSize(node) {\n    var width = node ? node.getBoundingClientRect().width : 0;\n    var height = node ? node.getBoundingClientRect().height : 0;\n\n    return {width, height};\n  }\n\n  render() {\n    var rows = React.Children.toArray(this.props.children);\n    var stickyColumn, stickyHeader, stickyCorner;\n\n    this.rowCount = rows.length;\n    this.columnCount = (rows[0] && React.Children.toArray(rows[0].props.children).length) || 0;\n      \n    if (rows.length) {\n      if (this.props.stickyColumnCount > 0 && this.stickyHeaderCount > 0) {\n        stickyCorner = this.getStickyCorner(rows);\n      }\n      if (this.props.stickyColumnCount > 0) {\n        stickyColumn = this.getStickyColumns(rows);\n      }\n      if (this.stickyHeaderCount > 0) {\n        stickyHeader = this.getStickyHeader(rows);\n      }\n    }\n      \n    return (\n      <div className={'sticky-table ' + (this.props.className || '')} id={'sticky-table-' + this.id}>\n        <div id='x-scrollbar'><div></div></div>\n        <div id='y-scrollbar'><div></div></div>\n        <div className='sticky-table-corner' id='sticky-table-corner'>\n          <Table>{stickyCorner}</Table>\n        </div>\n        <div className='sticky-table-header' id='sticky-table-header'>\n          <Table>{stickyHeader}</Table>\n        </div>\n        <div className='sticky-table-y-wrapper' id='sticky-table-y-wrapper'>\n          <div className='sticky-table-column' id='sticky-table-column'>\n            <Table>{stickyColumn}</Table>\n          </div>\n          <div className='sticky-table-x-wrapper' id='sticky-table-x-wrapper'>\n            <Table>{rows}</Table>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport {StickyTable, Table, Row, Cell};\n","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\n\nexport default class Cell extends Component {\n  render() {\n      return (\n        <div {...this.props} className={'sticky-table-cell ' + (this.props.className || '')}>\n          {this.props.children}\n        </div>\n      );\n  }\n}\n","import React, { Component } from 'react';\nimport { StickyTable, Row, Cell } from './sticky-table'\nimport './index.css';\n\nimport FontAwesomeIcon from '@fortawesome/react-fontawesome'\nimport faAngleUp from '@fortawesome/fontawesome-free-solid/faAngleUp'\nimport faAngleDown from '@fortawesome/fontawesome-free-solid/faAngleDown'\n\nvar d3 = require(\"d3\");\n\nvar numberWithCommas = d3.format(\",\");\n\nclass TcTable extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      \"data\": {}\n    }\n  }\n\n  updateData(data) {\n    this.setState({\n      \"data\": data\n    });\n  }\n\n  componentDidMount(){\n    window.webkit.messageHandlers[\"scriptHandler\"].postMessage({status: 'ready'});\n  }\n\n  render() {\n    return (\n      <div>\n        TC Table - Start\n        {JSON.stringify(this.props.table_spec)}\n        {JSON.stringify(this.state.data)}\n      </div>\n    )\n  }\n}\n\nexport default TcTable;","import React, { Component } from 'react';\nimport './index.scss';\n\nclass TCEvaluationSettingsSelection extends Component {\n  render() {\n    return (\n      <div className=\"TCEvaluationSettingsSelection\">\n        <div className=\"TCEvaluationSettingsSelectionTitle\">\n          Metrics\n        </div>\n        <div className=\"TCEvaluationSettingsSelectionCont\">\n          <input type=\"checkbox\"\n                 name=\"accuracy_checkbox\"\n                 checked={this.props.accuracy}\n                 onChange={this.props.changeAccuracy.bind(this)} />\n          <span className=\"TCEvaluationSettingsSelectionContText\">\n           Accuracy\n          </span>\n          <br/>\n          \n          <input type=\"checkbox\"\n                 name=\"f1_score_checkbox\"\n                 checked={this.props.f1_score}\n                 onChange={this.props.changeF1Score.bind(this)} />\n          <span className=\"TCEvaluationSettingsSelectionContText\">\n           F1 Score\n          </span>\n          <br/>\n          \n          <input type=\"checkbox\"\n                 name=\"precision_checkbox\"\n                 checked={this.props.precision}\n                 onChange={this.props.changePrecision.bind(this)} />\n          <span className=\"TCEvaluationSettingsSelectionContText\">\n           Precision\n          </span>\n          <br/>\n\n          <input type=\"checkbox\"\n                 name=\"recall_checkbox\"\n                 checked={this.props.recall}\n                 onChange={this.props.changeRecall.bind(this)} />\n          <span className=\"TCEvaluationSettingsSelectionContText\">\n           Recall\n          </span>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationSettingsSelection;\n","import React, { Component } from 'react';\nimport './index.scss';\nimport filter from './assets/filter.svg';\n\nimport TCEvaluationSettingsSelection from '../TCEvaluationSettingsSelection';\n\nclass TCEvaluationSettings extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      \"open\": false\n    }\n  }\n\n  changeOpenClose = () => {\n    this.setState({\"open\": !this.state.open});\n  }\n\n  renderSettings = () => {\n    if(this.state.open) {\n      return (\n        <div className=\"TCEvaluationSettingsSelectionContainer\">\n          <TCEvaluationSettingsSelection accuracy={this.props.accuracy}\n                                         changeAccuracy={this.props.changeAccuracy.bind(this)}\n                                         precision={this.props.precision}\n                                         changePrecision={this.props.changePrecision.bind(this)}\n                                         recall={this.props.recall}\n                                         changeRecall={this.props.changeRecall.bind(this)}\n                                         f1_score={this.props.f1_score}\n                                         changeF1Score={this.props.changeF1Score.bind(this)} />\n        </div>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"TCEvaluationSettings\">\n        <div className=\"TCEvaluationSettingsImage\"\n             onClick={this.changeOpenClose.bind(this)}>\n          <img src={filter}\n               height={20}\n               width={20}/>\n        </div>\n        {this.renderSettings()}\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationSettings;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport carret from './assets/carret.svg';\n\nclass TCEvaluationTooltip extends Component {\n  render() {\n    return (\n      <div className=\"TCEvaluationTooltip\">\n        <div className=\"TCEvaluationTooltipText\">\n          {this.props.text}\n        </div>\n        <div className=\"TCEvaluationCarret\">\n          <img src={carret}\n               height={9}\n               className=\"TCEvaluationCarretIcon\"/>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationTooltip;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport TCEvaluationTooltip from '../TCEvaluationTooltip';\n\nimport info from './assets/info.svg';\n\nclass TCEvaluationMetrics extends Component {\n  \n  renderIcon = () => {\n    if(this.props.tooltip){\n      return (\n        <div className=\"TCEvaluationMetricsInfoIcon\">\n          <img src={info}\n               height={10}\n               width={10}/>\n        </div>\n      );\n    }\n  }\n\n  renderTooltip = () => {\n    if(this.props.tooltip){\n      return (\n        <div className=\"TCEvaluationMetricsTooltipContainer\">\n          <TCEvaluationTooltip text={this.props.tooltip}/>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"TCEvaluationMetrics\">\n        <div className=\"TCEvaluationMetricsTitleContainer\">\n          <div className=\"TCEvaluationMetricsTitle\">\n            {this.props.title}\n          </div>\n          {this.renderIcon()}\n          {this.renderTooltip()}\n        </div>\n        <div className=\"TCEvaluationMetricsValueContainer\">\n          {this.props.value}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationMetrics;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport TCEvaluationSettings from '../TCEvaluationSettings';\nimport TCEvaluationMetrics from '../TCEvaluationMetrics';\n\nimport * as d3 from \"d3\";\n\nclass TCEvaluationOverview extends Component {\n  constructor(props){\n    super(props)\n\n    this.formatDecimal = d3.format(\".2f\")\n    this.state={\n      \"accuracy\": true,\n      \"f1_score\": false,\n      \"precision\": false,\n      \"recall\": false\n    }\n  }\n\n  renderMetrics(){\n    var returnMetrics = []\n    if(this.props.accuracy_visible){\n      returnMetrics.push(\n        <TCEvaluationMetrics title={\"Accuracy\"}\n                             value={this.formatDecimal(this.props.accuracy*100) + \"%\"}\n                             tooltip={this.props.total_correct + \" out of \" + this.props.total_num + \" predicted correctly\"}/>\n      )\n    }\n\n    if(this.props.precision_visible){\n      returnMetrics.push(\n        <TCEvaluationMetrics title={\"Precision\"}\n                             value={this.formatDecimal(this.props.precision*100) + \"%\"}\n                             tooltip={\"Out of the labels predicted by the model, which were correct\"}/>\n      )\n    }\n\n    if(this.props.recall_visible){\n      returnMetrics.push(\n        <TCEvaluationMetrics title={\"Recall\"}\n                             value={this.formatDecimal(this.props.recall*100) + \"%\"}\n                             tooltip={\"Out of the correct labels, which were predicted by the model\"}/>\n      )\n    }\n\n    if(this.props.f1_score_visible){\n      returnMetrics.push(\n        <TCEvaluationMetrics title={\"F1 Score\"}\n                             value={this.formatDecimal(((2*(this.props.recall * this.props.precision))/(this.props.recall + this.props.precision))*100) + \"%\"}\n                             tooltip={\"A harmonic average of precision and recall\"}/>\n      )\n    }\n\n    returnMetrics.push(\n      <TCEvaluationMetrics title={\"Total Tested\"}\n                           value={this.props.total_num}\n                           tooltip={\"Total number of examples tested\"}/>\n    )\n\n    return returnMetrics;\n  }\n\n\n  render() {\n    return (\n      <div className=\"TCEvaluationOverview\">\n        <div className=\"TCEvaluationOverviewContainer\">\n          <div className=\"TCEvaluationOverviewTitleContainer\">\n            <div className=\"TCEvaluationOverviewTitle\">\n              Overview\n            </div>\n            <TCEvaluationSettings accuracy={this.props.accuracy_visible}\n                                  changeAccuracy={this.props.changeAccuracy.bind(this)}\n                                  precision={this.props.precision_visible}\n                                  changePrecision={this.props.changePrecision.bind(this)}\n                                  recall={this.props.recall_visible}\n                                  changeRecall={this.props.changeRecall.bind(this)}\n                                  f1_score={this.props.f1_score_visible}\n                                  changeF1Score={this.props.changeF1Score.bind(this)}/> \n          </div>\n          <div className=\"TCEvaluationOverviewMetricsContainer\">\n            <TCEvaluationMetrics title={\"Model\"}\n                                 value={this.props.model_type}/>\n            <TCEvaluationMetrics title={\"Number of Iterations\"}\n                                 value={this.props.iterations}/>\n            {this.renderMetrics()}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationOverview;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nclass TCEvaluationImageCellsHover extends Component {\n  render() {\n    return (\n      <div className=\"TCEvaluationImageCellsHover\">\n        <img width={200}\n             src={this.props.src} />\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationImageCellsHover;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport TCEvaluationImageCellsHover from './TCEvaluationImageCellsHover';\n\nclass TCEvaluationImageCells extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      \"hover\": false\n    }\n  }\n\n  onHoverState = () => {\n    this.setState({\"hover\": true});\n  }\n\n  offHoverState = () => {\n    this.setState({\"hover\": false});\n  }\n\n  renderImage = () => {\n    if(this.state.hover){\n      return (\n        <TCEvaluationImageCellsHover src={\"data:image/\"+this.props.value.format+\";base64,\"+this.props.value.data}/>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"TCEvaluationImageCellsWrapper\"\n           onMouseEnter={this.onHoverState.bind(this)}\n           onMouseLeave={this.offHoverState.bind(this)}>\n        <div className=\"TCEvaluationImageCells\">\n          <img width={30}\n               src={\"data:image/\"+this.props.value.format+\";base64,\"+this.props.value.data} />\n        </div>\n        {this.renderImage()}\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationImageCells;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport warning from './assets/warning.svg';\nimport TCEvaluationImageCells from '../../../TCEvaluationImageCells';\n\nimport * as d3 from \"d3\";\n\nclass TCEvaluationCells extends Component {\n  constructor(props){\n    super(props)\n    this.formatDecimal = d3.format(\".0f\") \n  }\n\n  renderPercentLeft = () => {\n    if(this.props.value >= 0.5){\n      return (\n        <div className=\"TCEvaluationCellsPercentShadedText\"\n             style={{\"color\": \"#FFFFFF\"}}>\n          {this.formatDecimal(this.props.value*100)+\"%\"}\n        </div>\n      );\n    }\n  }\n\n  renderAmountLeft = () => {\n    if((this.props.value/this.props.max) >= 0.5){\n      return (\n        <div className=\"TCEvaluationCellsPercentShadedText\"\n             style={{\"color\": \"#FFFFFF\"}}>\n          {this.formatDecimal(this.props.value)}\n        </div>\n      );\n    }\n  }\n\n  renderPercentRight = () => {\n    if(this.props.value < 0.5){\n      return (\n        <div className=\"TCEvaluationCellsPercentShadedText\"\n             style={{\"color\": \"#484856\"}}> \n          {this.formatDecimal(this.props.value*100)+\"%\"}\n        </div>\n      );\n    }\n  }\n\n  renderAmountRight = () => {\n    if((this.props.value/this.props.max) < 0.5){\n      return (\n        <div className=\"TCEvaluationCellsPercentShadedText\"\n             style={{\"color\": \"#484856\"}}>\n          {this.formatDecimal(this.props.value)}\n        </div>\n      );\n    }\n  }\n\n  renderWarning = () => {\n    if(this.props.value <= 0.2){\n      return (\n        <div className=\"TCEvaluationCellsPercentShadedWarning\">\n          <img src={warning} height={16}/>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    if(this.props.type == \"images\"){\n      return (\n        <div className=\"TCEvaluationCellsImages\">\n          <div className=\"TCEvaluationCellsImagesContainer\">\n           {this.props.value.map((data, index) => {\n            return(\n              <TCEvaluationImageCells value={data}/>\n            )\n           })}\n          </div>\n        </div>\n       );\n    }else if(this.props.type == \"percent\"){\n      return (\n        <div className=\"TCEvaluationCellsPercent\">\n          <div className=\"TCEvaluationCellsPercentShaded\"\n               style={{\"width\": this.props.value*100+\"%\"}}>\n               { this.renderPercentLeft() }\n          </div>\n          {this.renderPercentRight()}\n          {this.renderWarning()}\n        </div>\n      );\n    }else if(this.props.type == \"amount\"){\n      return (\n        <div className=\"TCEvaluationCellsAmount\">\n          <div className=\"TCEvaluationCellsAmountShaded\"\n               style={{\"width\": (this.props.value/this.props.max)*100+\"%\"}}>\n               { this.renderAmountLeft() }\n          </div>\n          {this.renderAmountRight()}\n        </div>\n      );\n    }else{\n      return (\n        <div className=\"TCEvaluationCellsText\">\n          <div className=\"TCEvaluationCellsTextCont\">\n            {this.props.value}\n          </div>\n        </div>\n      );\n    }\n  }\n}\n\nexport default TCEvaluationCells;\n","import React, { Component } from 'react';\nimport './index.scss';\nimport TCEvaluationCells from './TCEvaluationCells';\n\nclass TCEvaluationRows extends Component {\n\n  constructor(props){\n    super(props)\n    this.state = {\n      \"hovered\":false\n    }\n  }\n\n  renderSelected = () => {\n    if(this.props.selected){\n      return (\n        {\"background\": \"#D6E7FB\"}\n      );\n    }\n  }\n\n  renderAccuracy = () => {\n    if(this.props.accuracy_visible){\n      return (\n        <TCEvaluationCells type=\"percent\"\n                           value={this.props.data.correct/(this.props.data.correct+this.props.data.incorrect)}\n                           selected={this.props.selected}\n                           hovered={this.state.hovered}/>\n      )\n    }\n  }\n\n  renderPrecision = () => {\n    if(this.props.precision_visible){\n      return (\n        <TCEvaluationCells type=\"percent\"\n                           value={this.props.data.precision}\n                           selected={this.props.selected}\n                           hovered={this.state.hovered}/>\n      )\n    }\n  }\n\n  renderRecall = () => {\n    if(this.props.recall_visible){\n      return (\n        <TCEvaluationCells type=\"percent\"\n                           value={this.props.data.recall}\n                           selected={this.props.selected}\n                           hovered={this.state.hovered}/>\n      ); \n    }\n  }\n\n  renderF1Score = () => {\n    if(this.props.f1_score_visible){\n      return (\n        <TCEvaluationCells type=\"percent\"\n                           value={this.props.data.f1_score}\n                           selected={this.props.selected}\n                           hovered={this.state.hovered}/>\n      ); \n    }\n  }\n\n  mouse_enter = () => {\n    this.setState({\"hovered\":true});\n  }\n\n  mouse_leave = () => {\n    this.setState({\"hovered\":false});\n  }\n\n  render() {\n    return (\n      <div className=\"TCEvaluationRows\"\n           style={this.renderSelected()}\n           onClick={this.props.onclick.bind(this, this.props.data.name)}\n           onMouseEnter={this.mouse_enter.bind(this)}\n           onMouseLeave={this.mouse_leave.bind(this)}>\n        <div className=\"TCEvaluationRowContainer\">\n          <TCEvaluationCells value={this.props.data.name}/>\n          <TCEvaluationCells type=\"images\"\n                             value={this.props.data.correct_images}/>\n          {this.renderAccuracy()}\n          {this.renderPrecision()}\n          {this.renderRecall()}\n          {this.renderF1Score()}\n          <TCEvaluationCells type=\"amount\"\n                             value={this.props.data.num_examples}\n                             max={this.props.max_value}\n                             selected={this.props.selected}\n                             hovered={this.state.hovered}/>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationRows;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport down from './assets/down.svg';\nimport caret_down from './assets/caret-down.svg';\n\nclass TCEvaluationHeaderCell extends Component {\n\n  renderCarret = () => {\n    if(this.props.enabled){\n      if(this.props.direction){\n        return (\n          <div className=\"TCEvaluationHeaderCellDropDown\"\n               style={{\"transform\": \"rotate(180deg)\"}}>\n            <img src={caret_down}/>\n          </div>\n        )\n      }else{\n        return (\n          <div className=\"TCEvaluationHeaderCellDropDown\">\n            <img src={caret_down}/>\n          </div>\n        )\n      }\n    }else{\n      return (\n        <div className=\"TCEvaluationHeaderCellDropDown\">\n          <img src={down}/>\n        </div>\n      )\n    }\n  }\n\n  render() {\n    if(this.props.type == \"images\"){\n      return (\n        <div className=\"TCEvaluationHeaderCellImages\">\n          {this.props.name}\n        </div>\n      );\n    }else if(this.props.type == \"percent\"){\n      return (\n        <div className=\"TCEvaluationHeaderCellPercent\"\n             onClick={this.props.onclick.bind(this)}>\n          {this.props.name}\n          {this.renderCarret()}\n        </div>\n      );\n    }else if(this.props.type == \"amount\"){\n      return (\n        <div className=\"TCEvaluationHeaderCellAmount\"\n             onClick={this.props.onclick.bind(this)}>\n          {this.props.name}\n          {this.renderCarret()}\n        </div>\n      );\n    }else{\n      return (\n        <div className=\"TCEvaluationHeaderCellText\"\n             onClick={this.props.onclick.bind(this)}>\n          {this.props.name}\n          {this.renderCarret()}\n        </div>\n      );\n    }\n    \n  }\n}\n\nexport default TCEvaluationHeaderCell;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport TCEvaluationHeaderCell from './TCEvaluationHeaderCell';\n\nclass TCEvaluationHeader extends Component {\n\n  clickedAccuracy = () =>{\n    this.props.updateSortBy(\"accuracy\")\n    this.props.updateSortDirection()\n  }\n\n  clickedPrecision = () =>{\n    this.props.updateSortBy(\"precision\")\n    this.props.updateSortDirection()\n  }\n\n  clickedRecall = () =>{\n    this.props.updateSortBy(\"recall\")\n    this.props.updateSortDirection()\n  }\n\n  clickedF1Score= () =>{\n    this.props.updateSortBy(\"f1_score\")\n    this.props.updateSortDirection()\n  }\n\n  clickedCell = () => {\n    this.props.updateSortBy(\"class\")\n    this.props.updateSortDirection()\n  }\n\n  clickNumTest = () => {\n    this.props.updateSortBy(\"train\")\n    this.props.updateSortDirection()\n  }\n\n  clickNumTrain = () => {\n    this.props.updateSortBy(\"test\")\n    this.props.updateSortDirection()\n  }\n\n  renderAccuracy = () => {\n    if(this.props.accuracy_visible){\n      return (\n        <TCEvaluationHeaderCell type=\"percent\"\n                                name=\"ACCURACY\"\n                                onclick={this.clickedAccuracy.bind(this)}\n                                enabled={(this.props.sort_by == \"accuracy\")}\n                                direction={this.props.sort_direction}/>\n      )\n    }\n  }\n\n  renderPrecision = () => {\n    if(this.props.precision_visible){\n      return (\n        <TCEvaluationHeaderCell type=\"percent\"\n                                name=\"PRECISION\"\n                                onclick={this.clickedPrecision.bind(this)}\n                                enabled={(this.props.sort_by == \"precision\")}\n                                direction={this.props.sort_direction}/>\n      )\n    }\n  }\n\n  renderRecall = () => {\n    if(this.props.recall_visible){\n      return (\n        <TCEvaluationHeaderCell type=\"percent\"\n                                name=\"RECALL\"\n                                onclick={this.clickedRecall.bind(this)}\n                                enabled={(this.props.sort_by == \"recall\")}\n                                direction={this.props.sort_direction}\n                                />\n      ); \n    }\n  }\n\n  renderF1Score = () => {\n    if(this.props.f1_score_visible){\n      return (\n        <TCEvaluationHeaderCell type=\"percent\"\n                                name=\"F1 SCORE\"\n                                onclick={this.clickedF1Score.bind(this)}\n                                enabled={(this.props.sort_by == \"f1_score\")}\n                                direction={this.props.sort_direction}\n                                />\n      ); \n    }\n  }\n\n  render() {\n    return (\n      <div className=\"TCEvaluationHeader\">\n        <div className=\"TCEvaluationHeaderContainer\">\n          <TCEvaluationHeaderCell name=\"CLASS NAME\"\n                                  onclick={this.clickedCell.bind(this)}\n                                  enabled={(this.props.sort_by == \"class\")}\n                                  direction={this.props.sort_direction}/>\n          <TCEvaluationHeaderCell type=\"images\"\n                                  name=\"EXAMPLE IMAGES\"/>\n          {this.renderAccuracy()}\n          {this.renderPrecision()}\n          {this.renderRecall()}\n          {this.renderF1Score()}\n          <TCEvaluationHeaderCell type=\"amount\"\n                                  name=\"NUM TEST\"\n                                  onclick={this.clickNumTest.bind(this)}\n                                  enabled={(this.props.sort_by == \"train\")}\n                                  direction={this.props.sort_direction}/>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationHeader;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport TCEvaluationRows from './TCEvaluationRows';\nimport TCEvaluationHeader from './TCEvaluationHeader';\n\nclass TCEvaluationTable extends Component {\n\n  maxValueNumTest = () => {\n    return Math.max.apply(Math, this.props.data.map(function(o) { return o.num_examples; }));\n  }\n\n  sortingColumns = (a,b) => {\n    // class sort\n    if(this.props.sort_by == \"class\" && this.props.sort_direction){\n      if(a.name > b.name){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by == \"class\" && !this.props.sort_direction){\n      if(a.name < b.name){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by == \"accuracy\" && this.props.sort_direction){\n      if((a.correct/a.incorrect) < (b.correct/b.incorrect)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by == \"accuracy\" && !this.props.sort_direction){\n      if((a.correct/a.incorrect) > (b.correct/b.incorrect)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by == \"precision\" && this.props.sort_direction){\n      if((a.precision) < (b.precision)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by == \"precision\" && !this.props.sort_direction){\n      if((a.precision) > (b.precision)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by == \"f1_score\" && this.props.sort_direction){\n      if((a.f1_score) < (b.f1_score)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by == \"f1_score\" && !this.props.sort_direction){\n      if((a.f1_score) > (b.f1_score)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by == \"recall\" && this.props.sort_direction){\n      if((a.recall) < (b.recall)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by == \"recall\" && !this.props.sort_direction){\n      if((a.recall) > (b.recall)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by == \"train\" && this.props.sort_direction){\n      if((a.num_examples) < (b.num_examples)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by == \"train\" && !this.props.sort_direction){\n      if((a.num_examples) > (b.num_examples)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by == \"test\" && this.props.sort_direction){\n      if((a.num_examples) < (b.num_examples)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by == \"test\" && !this.props.sort_direction){\n      if((a.num_examples) > (b.num_examples)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    return 0;\n  }\n\n  selectClassName = () =>{\n    if(this.props.footer_open) {\n      return \"TCEvaluationTable TCEvaluationTableOpen\";\n    }else{\n      return \"TCEvaluationTable\";\n    }\n  }\n\n  render() {\n    const max_test = this.maxValueNumTest();\n    return (\n      <div className={this.selectClassName()}>\n          <TCEvaluationHeader accuracy_visible={this.props.accuracy_visible}\n                              precision_visible={this.props.precision_visible}\n                              f1_score_visible={this.props.f1_score_visible}\n                              recall_visible={this.props.recall_visible}\n                              updateSortDirection={this.props.updateSortDirection.bind(this)}\n                              updateSortBy={this.props.updateSortBy.bind(this)}\n                              sort_direction={this.props.sort_direction}\n                              sort_by={this.props.sort_by}\n                              />\n          {this.props.data.sort(this.sortingColumns).map((data, index) => {\n            return(<TCEvaluationRows data={data}\n                                     accuracy_visible={this.props.accuracy_visible}\n                                     precision_visible={this.props.precision_visible}\n                                     f1_score_visible={this.props.f1_score_visible}\n                                     recall_visible={this.props.recall_visible}\n                                     max_value={max_test}\n                                     selected={(this.props.filter_confusion == data.name)}\n                                     onclick={this.props.row_click.bind(this)} />)\n          })}\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationTable;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport * as d3 from \"d3\";\n\nimport TCEvaluationImageCells from '../../../TCEvaluationImageCells';\n\nclass TCEvaluationConfusionCell extends Component {\n\tconstructor(props){\n    super(props)\n    this.formatDecimal = d3.format(\".0f\") \n  }\n\n\trenderAmountLeft = () => {\n    if((this.props.value/this.props.max) >= 0.5){\n      return (\n        <div className=\"TCEvaluationCellsPercentShadedText\"\n             style={{\"color\": \"#FFFFFF\"}}>\n          {this.formatDecimal(this.props.value)}\n        </div>\n      );\n    }\n  }\n\n  renderAmountRight = () => {\n    if((this.props.value/this.props.max) < 0.5){\n      return (\n        <div className=\"TCEvaluationCellsPercentShadedText\"\n             style={{\"color\": \"#484856\"}}>\n          {this.formatDecimal(this.props.value)}\n        </div>\n      );\n    }\n  }\n\n  render() {\n  \tif(this.props.type == \"images\"){\n      return (\n        <div className=\"TCEvaluationConfusionCellImage\">\n          {this.props.value.map((data, index) => {\n            return(\n              <TCEvaluationImageCells value={data}/>\n            )\n          })}\n        </div>\n      );\n    }else if(this.props.type == \"percent\"){\n      return (\n        <div className=\"TCEvaluationConfusionCell\">\n         \n        </div>\n      );\n    }else if(this.props.type == \"amount\"){\n      return (\n        <div className=\"TCEvaluationCellsAmount\">\n          <div className=\"TCEvaluationCellsAmountShaded\"\n               style={{\"width\": (this.props.value/this.props.max)*100+\"%\"}}>\n               { this.renderAmountLeft() }\n          </div>\n          {this.renderAmountRight()}\n        </div>\n      );\n    }else{\n      return (\n        <div className=\"TCEvaluationConfusionCellText\">\n        \t{this.props.value}\n        </div>\n      );\n  \t}\n  }\n}\n\nexport default TCEvaluationConfusionCell;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport TCEvaluationConfusionCell from './TCEvaluationConfusionCell';\n\nclass TCEvaluationConfusionRow extends Component {\n\n  render() {\n    return (\n      <div className=\"TCEvaluationConfusionRow\" onClick={this.props.selectRowConfusions.bind(this, this.props.consideration.actual, this.props.consideration.predicted)}>\n        <TCEvaluationConfusionCell type=\"text\" \n                                   value={this.props.consideration.actual}/>\n        <TCEvaluationConfusionCell type=\"text\"\n                                   value={this.props.consideration.predicted}/>\n        <TCEvaluationConfusionCell type=\"amount\"\n                                   value={this.props.consideration.count}\n                                   max={this.props.maxValue}/>\n        <TCEvaluationConfusionCell type=\"images\"\n                                   value={this.props.consideration.images}/>\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationConfusionRow;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport down from './assets/down.svg';\nimport caret_down from './assets/caret-down.svg';\n\nclass TCEvaluationConfusionHeaderCell extends Component {\n\n  renderCaret = () => {\n    if(this.props.enabled){\n      if(this.props.direction){\n        return (\n          <div className=\"TCEvaluationConfusionHeaderCellDropDown\"\n               style={{\"transform\": \"rotate(180deg)\"}}>\n            <img src={caret_down}/>\n          </div>\n        )\n      }else{\n        return (\n          <div className=\"TCEvaluationConfusionHeaderCellDropDown\">\n            <img src={caret_down}/>\n          </div>\n        )\n      }\n    }else{\n      return (\n        <div className=\"TCEvaluationConfusionHeaderCellDropDown\">\n          <img src={down}/>\n        </div>\n      )\n    }\n  }\n\n  render() {\n    if(this.props.type == \"images\"){\n      return (\n        <div className=\"TCEvaluationConfusionHeaderCellImages\">\n          {this.props.name}\n        </div>\n      );\n    }else if(this.props.type == \"percent\"){\n      return (\n        <div className=\"TCEvaluationConfusionHeaderCellPercent\"\n             onClick={this.props.onclick.bind(this)}>\n          {this.props.name}\n          {this.renderCaret()}\n        </div>\n      );\n    }else if(this.props.type == \"amount\"){\n      return (\n        <div className=\"TCEvaluationConfusionHeaderCellAmount\"\n             onClick={this.props.onclick.bind(this)}>\n          {this.props.name}\n          {this.renderCaret()}\n        </div>\n      );\n    }else{\n      return (\n        <div className=\"TCEvaluationConfusionHeaderCellText\"\n             onClick={this.props.onclick.bind(this)}>\n          {this.props.name}\n          {this.renderCaret()}\n        </div>\n      );\n    }\n  }\n}\n\nexport default TCEvaluationConfusionHeaderCell;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport TCEvaluationConfusionHeaderCell from './TCEvaluationConfusionHeaderCells';\n\nclass TCEvaluationConfusionHeader extends Component {\n\n  clickActual = () => {\n    this.props.updateSortByConfusion(\"actual\")\n  }\n\n  clickPredicted = () => {\n    this.props.updateSortByConfusion(\"predicted\")\n  }\n\n  clickCount = () => { \n    this.props.updateSortByConfusion(\"count\")\n  }\n\n  render() {\n    return (\n      <div className=\"TCEvaluationConfusionHeader\">\n        <TCEvaluationConfusionHeaderCell name=\"ACTUAL CLASS\"\n                                         onclick={this.clickActual.bind(this)}\n                                         enabled={(this.props.sort_by_confusions == \"actual\")}\n                                         direction={!this.props.sort_direction_confusions} />\n        <TCEvaluationConfusionHeaderCell name=\"PREDICTED CLASS\"\n                                         onclick={this.clickPredicted.bind(this)}\n                                         enabled={(this.props.sort_by_confusions == \"predicted\")}\n                                         direction={!this.props.sort_direction_confusions}/>\n        <TCEvaluationConfusionHeaderCell name=\"NUMBER INCORRECT\"\n                                         type=\"percent\"\n                                         onclick={this.clickCount.bind(this)}\n                                         enabled={(this.props.sort_by_confusions == \"count\")}\n                                         direction={!this.props.sort_direction_confusions}/>\n        <TCEvaluationConfusionHeaderCell name=\"INCORRECT CLASSIFICATIONS\"\n                                         type=\"images\"/>\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationConfusionHeader;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport TCEvaluationConfusionRow from './TCEvaluationConfusionRow';\nimport TCEvaluationConfusionHeader from './TCEvaluationConfusionHeader';\n\nclass TCEvaluationConfusionTable extends Component {\n  \n  maxCount = () => {\n    return Math.max.apply(Math, this.props.considerations.map(function(o) { return o.count; }));\n  }\n\n  filterData = (element) => {\n    if(this.props.filter_confusion != null){\n      return element.actual == this.props.filter_confusion;\n    }else{\n      return true;\n    }\n  }\n\n  sortData = (a, b) => {\n    if(this.props.sort_by_confusions == \"actual\" && !this.props.sort_direction_confusions){\n      if((a.actual) > (b.actual)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by_confusions == \"actual\" && this.props.sort_direction_confusions){\n      if((a.actual) < (b.actual)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by_confusions == \"predicted\" && !this.props.sort_direction_confusions){\n      if((a.predicted) > (b.predicted)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by_confusions == \"predicted\" && this.props.sort_direction_confusions){\n      if((a.predicted) < (b.predicted)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by_confusions == \"count\" && !this.props.sort_direction_confusions){\n      if((a.count) > (b.count)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    if(this.props.sort_by_confusions == \"count\" && this.props.sort_direction_confusions){\n      if((a.count) < (b.count)){\n        return -1;\n      }else{\n        return 1;\n      }\n    }\n\n    return 0;\n  }\n\n  render() {\n    const max_value = this.maxCount();\n    return (\n      <div className=\"TCEvaluationConfusionTable\">\n        <div className=\"TCEvaluationConfusionTableContainer\">\n          <TCEvaluationConfusionHeader updateSortByConfusion={this.props.updateSortByConfusion.bind(this)}\n                                       sort_by_confusions={this.props.sort_by_confusions}\n                                       sort_direction_confusions={this.props.sort_direction_confusions}/>\n\n          {\n            this.props.considerations.filter(this.filterData).sort(this.sortData).map((consideration, index) => {\n              return(<TCEvaluationConfusionRow consideration={consideration} \n                                               selectRowConfusions={this.props.selectRowConfusions.bind(this)}\n                                               maxValue={max_value}/>);\n            })\n          }\n\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationConfusionTable;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport export_img from './assets/export.png';\n\nclass TCEvaluationImageComponent extends Component {\n  constructor(props){\n    super(props);\n    this.imgEl = React.createRef();\n    this.state = {\n      \"width\": \"auto\",\n      \"height\": \"auto\"\n    }\n  }\n\n  setHeight = () =>{\n    const imageWidth = this.imgEl.current.clientWidth;\n    const imageHeight = this.imgEl.current.clientHeight;\n    if(imageWidth > imageHeight){\n      this.setState({\"height\" : 130})\n    }else{\n      this.setState({\"width\" : 130})\n    }\n  }\n\n  render() {\n\n    return (\n      <div className=\"TCEvaluationImageComponent\">\n        <img src={\"data:image/\"+this.props.src.format+\";base64,\"+this.props.src.data}\n             className=\"TCEvaluationImageComponentImage\"\n             ref={this.imgEl}\n             width={this.state.width}\n             height={this.state.height}\n             onLoad={this.setHeight.bind(this)} />\n        <div className=\"TCEvaluationImageComponentExport\">\n          <img src={export_img}\n               width={10}\n               height={10} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationImageComponent;\n\n\n\n\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport right_arrow from './assets/right.svg';\n\nimport TCEvaluationImageComponent from '../TCEvaluationImageComponent';\n\nclass TCEvaluationImageViewerContainer extends Component {\n  render() {\n    return (\n      <div className=\"TCEvaluationImageViewerContainer\">\n        <div className=\"TCEvaluationImageViewerContainerImages\">\n          { \n            this.props.data.images.map((data, index) => {\n              return(\n                <div className=\"TCEvaluationImageComponentWrapper\">\n                  <TCEvaluationImageComponent src={data} />\n                </div>\n              )\n            })\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationImageViewerContainer;\n","import React, { Component } from 'react';\nimport './index.scss';\n\nimport down_arrow from './assets/down.svg';\nimport cancel from './assets/cancel.svg';\nimport TCEvaluationConfusionTable from '../TCEvaluationConfusionTable';\nimport TCEvaluationImageViewerContainer from '../TCEvaluationImageViewerContainer';\n\nclass TCEvaluationFooter extends Component {\n\n  cssOpenStyleContainer = () => {\n    if(this.props.footer_open){\n      return {\"min-height\": parseInt((window.innerHeight/2), 10) + \"px\"}\n    }\n  }\n\n  cssOpenStyleIcon = () => {\n    if(this.props.footer_open){\n      return {\"transform\":\"rotate(-180deg)\"}\n    }\n  }\n\n  filterData = (element) => {\n    return element.actual == this.props.selected_actual && element.predicted == this.props.selected_prediction;\n  }\n\n  filterErrorData = (element) => {\n    if(this.props.filter_confusion != null){\n      return element.actual == this.props.filter_confusion;\n    }else{\n      return true;\n    }\n  }\n\n  render_table = () => {\n    if((this.props.selected_actual != null) && (this.props.selected_prediction != null)){\n      return (\n        <div>\n          <TCEvaluationImageViewerContainer reset={this.props.selectRowConfusions.bind(this, null, null)}\n                                            data={this.props.considerations.filter(this.filterData)[0]}/>\n        </div>\n      );\n    } else {\n      return (\n        <div>\n          <TCEvaluationConfusionTable considerations={this.props.considerations}\n                                      filter_confusion={this.props.filter_confusion}\n                                      sort_by_confusions={this.props.sort_by_confusions}\n                                      sort_direction_confusions={this.props.sort_direction_confusions}\n                                      updateSortByConfusion={this.props.updateSortByConfusion.bind(this)}\n                                      selectRowConfusions={this.props.selectRowConfusions.bind(this)}/>\n        </div>\n      );\n    }\n  }\n\n  renderPill = (key, value) => {\n    return (\n      <div className=\"TCEvaluationFooterLabelIcon\">\n        <span>\n          {key} :&nbsp;\n        </span>\n        {value}\n        &nbsp;\n        &nbsp;\n        <img src={cancel} \n         onClick={this.resetFilter.bind(this)}/>\n        </div>\n    )\n  }\n\n  renderPredictedPill = (key, value) => {\n    return (\n      <div className=\"TCEvaluationFooterLabelIcon\">\n        <span>\n          {key} :&nbsp;\n        </span>\n        {value}\n        &nbsp;\n        &nbsp;\n        <img src={cancel} \n         onClick={this.props.selectRowConfusions.bind(this, null, null)}/>\n        </div>\n    )\n  }\n\n  resetFilter = () => {\n    this.props.row_click(null);\n  }\n\n  renderLabel = () => {\n    if(this.props.filter_confusion != null){\n      return(\n        <div className=\"TCEvaluationFooterLabel\">\n          {this.renderPill(\"Actual\", this.props.filter_confusion)}\n        </div>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"TCEvaluationFooter\"\n           style={this.cssOpenStyleContainer()}>\n        <div className=\"TCEvaluationFooterContainer\">\n          <div className=\"TCEvaluationFooterText\">\n            <div>\n              <div className=\"TCEvaluationErrorsPill\">\n                {this.props.considerations.filter(this.filterErrorData).length}\n              </div>\n              Errors\n            </div>\n            {this.renderLabel()}\n            <div className=\"TCEvaluationFooterLabel\">\n              {(this.props.selected_prediction != null)?this.renderPredictedPill(\"Predicted\", this.props.considerations.filter(this.filterData)[0].predicted):[]}\n            </div>\n          </div>\n          <div className=\"TCEvaluationFooterCarret\"\n               onClick={this.props.updateFooterOpen.bind(this)}>\n            <img src={down_arrow}\n                 className=\"TCEvaluationFooterCarretImage\"\n                 style={this.cssOpenStyleIcon()}/>\n          </div>\n        </div>\n        {this.render_table()}\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluationFooter;\n","import React, { Component } from 'react';\n\nimport TCEvaluationOverview from './Components/TCEvaluationOverview';\nimport TCEvaluationTable from './Components/TCEvaluationTable';\nimport TCEvaluationFooter from './Components/TCEvaluationFooter';\n\nclass TCEvaluation extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      \"accuracy_visible\": true,\n      \"precision_visible\": false,\n      \"f1_score_visible\": false,\n      \"recall_visible\": false,\n      \"sort_by\": \"accuracy\",\n      \"sort_direction\": true,\n      \"incorrect_classification\": this.props.spec.label_metrics.reduce(function(map, data) {\n        map[data.label] = null;\n        return map;\n      }, {}),\n      \"correct_classification\":[],\n      \"filter_confusion\":null,\n      \"sort_by_confusions\": \"count\",\n      \"sort_direction_confusions\": false,\n      \"selected_actual_confusion\": null,\n      \"selected_actual_prediction\": null,\n      \"footer_open\": false\n    }\n  }\n\n  componentDidMount(){\n    if(window.navigator.platform === 'MacIntel'){\n      window.webkit.messageHandlers[\"scriptHandler\"].postMessage({status: 'ready'});\n      window.webkit.messageHandlers[\"scriptHandler\"].postMessage({status: 'getCorrects'});\n\n      this.props.spec.labels.map((value, index) => {\n        if(this.state.incorrect_classification[value] == null){\n          const previous_incorrect_dict = this.state.incorrect_classification\n          previous_incorrect_dict[value] = \"loading\"\n          this.setState({\"incorrect_classification\": previous_incorrect_dict})\n          if (window.navigator.platform == 'MacIntel') {\n            window.webkit.messageHandlers[\"scriptHandler\"].postMessage({ \n              \"status\": 'getIncorrects',\n              \"label\": value + \"\"\n            });\n          }\n        }\n      });\n\n      this.loadIncorrect()\n    }\n  }\n\n  updateData(data) {\n    if(\"incorrects\" in data){\n      const inc_class = data[\"incorrects\"];\n      const previous_incorrect_dict = this.state.incorrect_classification;\n      previous_incorrect_dict[inc_class[\"target\"]] = inc_class[\"data\"];\n      this.setState({\"incorrect_classification\": previous_incorrect_dict})\n    }\n\n    if(\"correct\" in data){\n      this.setState({\"correct_classification\": data[\"correct\"]})\n    }\n  }\n\n  loadIncorrect = () => {\n    if(this.state.selected_label != null) {\n      if(this.state.incorrect_classification[this.state.selected_label] == null){\n        const previous_incorrect_dict = this.state.incorrect_classification\n        previous_incorrect_dict[this.state.selected_label] = \"loading\"\n        this.setState({\"incorrect_classification\": previous_incorrect_dict})\n        if (window.navigator.platform == 'MacIntel') {\n          window.webkit.messageHandlers[\"scriptHandler\"].postMessage({ \n            \"status\": 'getIncorrects',\n            \"label\": this.state.selected_label + \"\"\n          });\n        }\n      }\n    }\n  }\n    \n  updateSortDirection = () => {\n    this.setState({\"sort_direction\": !this.state.sort_direction})\n  }\n\n  updateSortBy = (value) => {\n    this.setState({\"sort_by\": value})\n  }\n\n  updateSortByConfusion = (value) => {\n    this.setState({\n      \"sort_by_confusions\": value,\n      \"sort_direction_confusions\": !this.state.sort_direction_confusions\n    });\n  }\n\n  updateFooterOpen = () => {\n    this.setState({\n      footer_open:!this.state.footer_open\n    });\n  }\n\n  setFooterOpen = () => {\n    this.setState({\n      footer_open:true\n    });\n  }\n\n  summarySeedData = () => {\n    return this.props.spec.label_metrics.map((data, index) => {\n\n        var dataArr = {\n          name: data.label,\n          num_examples: data.count,\n          correct: data.correct_count,\n          incorrect: (data.count - data.correct_count),\n          f1_score: (2*(data.recall * data.precision))/(data.recall + data.precision),\n          precision: data.precision,\n          recall: data.recall,\n          correct_images: []\n        }\n\n        var correct_data = []\n        for(var x = 0; x < this.state.correct_classification.length; x++){\n          if(this.state.correct_classification[x][\"target\"] == data.label){\n            correct_data = this.state.correct_classification[x][\"images\"]\n          }\n        }\n\n        dataArr[\"correct_images\"] = correct_data;\n        return dataArr;\n    });\n  }\n\n  totalCorrect = () => {\n    var correct_num = 0;\n    for(var x = 0; x< this.props.spec.label_metrics.length; x++){\n      correct_num += this.props.spec.label_metrics[x].correct_count\n    }\n    return correct_num;\n  }\n\n  totalNum = () => {\n    var total_num = 0;\n    for(var x = 0; x< this.props.spec.label_metrics.length; x++){\n      total_num += this.props.spec.label_metrics[x].count\n    }\n    return total_num;\n  }\n\n  changeAccuracy = () =>{\n    this.setState({accuracy_visible: !this.state.accuracy_visible})\n  }\n\n  changeF1Score = () =>{\n    this.setState({f1_score_visible: !this.state.f1_score_visible})\n  }\n\n  changePrecision = () =>{ \n    this.setState({precision_visible: !this.state.precision_visible})\n  }\n\n  changeRecall = () =>{\n    this.setState({recall_visible: !this.state.recall_visible})\n  }\n\n  createConsiderations = () => {\n    const incorrect_keys = Object.keys(this.state.incorrect_classification);\n    var considerations_array = [];\n\n    for(var k = 0; k < incorrect_keys.length; k++){\n      const current_val = this.state.incorrect_classification[incorrect_keys[k]]\n      if(current_val != null && current_val != \"loading\"){\n        for(var x = 0; x < current_val.length; x++){\n          considerations_array.push(\n            {\n              \"actual\": incorrect_keys[k],\n              \"predicted\": current_val[x].label,\n              \"images\": current_val[x].images,\n              \"count\": current_val[x].images.length\n            }\n          )\n        }\n      }\n    }\n\n    return considerations_array;\n  }\n\n  updatedSelectedRow = (value) =>{\n    if(value !== null){\n      this.setFooterOpen();\n    }\n\n    this.setState({\"filter_confusion\": value})\n  }\n\n  selectRowConfusions = (actual, predicted) => {\n    this.setState({\n      \"selected_actual_confusion\": actual,\n      \"selected_actual_prediction\": predicted\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"TCEvaluation\">\n        <TCEvaluationOverview accuracy={this.props.spec.accuracy}\n                              iterations={this.props.spec.max_iterations}\n                              precision={this.props.spec.precision}\n                              recall={this.props.spec.recall}\n                              model_type={this.props.spec.model_name}\n                              accuracy_visible={this.state.accuracy_visible}\n                              precision_visible={this.state.precision_visible}\n                              f1_score_visible={this.state.f1_score_visible}\n                              recall_visible={this.state.recall_visible}\n                              changeAccuracy={this.changeAccuracy.bind(this)}\n                              changePrecision={this.changePrecision.bind(this)}\n                              changeRecall={this.changeRecall.bind(this)}\n                              changeF1Score={this.changeF1Score.bind(this)}\n                              total_correct={this.totalCorrect()}\n                              total_num={this.totalNum()} />\n        <TCEvaluationTable data={this.summarySeedData()}\n                           accuracy_visible={this.state.accuracy_visible}\n                           precision_visible={this.state.precision_visible}\n                           f1_score_visible={this.state.f1_score_visible}\n                           recall_visible={this.state.recall_visible}\n                           sort_by={this.state.sort_by}\n                           sort_direction={this.state.sort_direction}\n                           updateSortDirection={this.updateSortDirection.bind(this)}\n                           updateSortBy={this.updateSortBy.bind(this)}\n                           filter_confusion={this.state.filter_confusion}\n                           footer_open={this.state.footer_open}\n                           row_click={this.updatedSelectedRow.bind(this)}\n                            />\n        <TCEvaluationFooter considerations={this.createConsiderations()}\n                            filter_confusion={this.state.filter_confusion}\n                            sort_by_confusions={this.state.sort_by_confusions}\n                            sort_direction_confusions={this.state.sort_direction_confusions}\n                            row_click={this.updatedSelectedRow.bind(this)}\n                            updateSortByConfusion={this.updateSortByConfusion.bind(this)}\n                            selectRowConfusions={this.selectRowConfusions.bind(this)}\n                            selected_actual={this.state.selected_actual_confusion}\n                            selected_prediction={this.state.selected_actual_prediction}\n                            footer_open={this.state.footer_open}\n                            updateFooterOpen={this.updateFooterOpen.bind(this)}\n                            />\n      </div>\n    );\n  }\n}\n\nexport default TCEvaluation;\n","var LabelType = {\n  INTEGER:0,\n  STRING: 1,\n};\n  \nObject.freeze(LabelType);\n\nexport const LabelType = LabelType;","import React, { Component } from 'react';\nimport style from './index.module.scss';\nimport { isRegExp } from 'util';\nimport { LabelType } from '../../utils';\n\nclass ImageContainer extends Component {\n    constructor(props) {\n    super(props);\n  }\n  \n  image_click = (e) =>{\n    if (e.shiftKey) {\n      this.props.addToSelected(this.props.value);\n    }else{\n      this.props.removeSelected();\n      this.props.toggleInfiniteScroll();\n      this.props.updateIncrementalCurrentIndex(this.props.value);\n    }\n  }\n\n  renderAnnotation = () => {\n    if(this.props.type == LabelType.INTEGER && Number.isInteger(this.props.annotation)) {\n      return (\n        <div className={style.ImageLabel}>\n          {this.props.annotation}\n        </div>\n      )\n    }else if(this.props.annotation){\n      return (\n        <div className={style.ImageLabel}>\n          {this.props.annotation}\n        </div>\n      )\n    }\n  }\n\n  resizeImage(width, height) {\n    if((width/height) > 1) {\n      return {\"width\": \"auto\", \"height\": style.imgSize + \"px\", \"top\": \"0px\", \"left\": parseInt((-1*(((width/height)*style.imgSize)-style.imgSize)/2), 10) + \"px\"};\n    } else {\n      return {\"width\": style.imgSize + \"px\", \"height\": \"auto\", \"top\": parseInt((-1*(((height/width)*style.imgSize)-style.imgSize)/2), 10) + \"px\", \"left\": \"0px\"};\n    }\n  }\n\n  render() {\n    if (this.props.src && this.props.selected) {\n      return(\n        <div className={`${style.ImageContainer} ${style.realImage} ${style.selected}`}\n             onClick={this.image_click.bind(this)}>\n          <img src={this.props.src.src}\n             className={`${style.ImageContainerSource} ${style.ImageContainerSourceSelected}`}\n             style={this.resizeImage(this.props.src.width, this.props.src.height)}/>\n          {this.renderAnnotation()}\n        </div>\n      );\n    } else if (this.props.src) {\n      return(\n        <div className={`${style.ImageContainer} ${style.realImage}`}\n             onClick={this.image_click.bind(this)}>\n          <img src={this.props.src.src}\n             className={style.ImageContainerSource}\n             style={this.resizeImage(this.props.src.width, this.props.src.height)}/>\n          {this.renderAnnotation()}\n        </div>\n      );\n    } else {\n      return(\n        <div className={`${style.ImageContainer}`}>\n          <div className={`${style.LoadingContainer}`}>\n            <div className={`${style.bounce1} ${style.bouncer}`}></div>\n            <div className={`${style.bounce2} ${style.bouncer}`}></div>\n            <div className={`${style.bounce2} ${style.bouncer}`}></div>\n          </div>\n        </div>\n      );\n    }\n  }\n}\n\nexport default ImageContainer;  \n","import React, { Component } from 'react';\nimport style from './index.module.scss';\n\nimport ImageContainer from './ImageContainer';\n\nimport imgProperties from './ImageContainer/index.module.scss';\nimport { of } from 'rxjs';\n\n// has to be a multiple of 3 to work properly\nconst CELL_PADDING = 3;\n\nclass InfiniteScroll extends Component {\n  constructor(props) {\n    super(props);\n    this.currentComponent = React.createRef()\n    this.state = {\n      componentHeight: window.innerHeight,\n      componentWidth: window.innerWidth,\n      startValue:0,\n      enableScroll: true\n    }\n  }\n\n  componentDidMount() {\n    this.updateDimensions();\n    const scaling = this.numRenderedbox();\n    const tempEndVal = scaling.numX * (scaling.numY + 2 * CELL_PADDING) + this.state.startValue;\n    const endVal = (tempEndVal > this.props.numElements)?this.props.numElements:tempEndVal;\n    this.props.getData(this.state.startValue, endVal);\n    this.props.getAnnotations(this.state.startValue, endVal);\n    window.addEventListener(\"resize\", this.updateDimensions.bind(this));\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.updateDimensions.bind(this));\n  }\n\n  updateDimensions = () => {\n    const $this = this;\n    // This is measuring the DOM so we need to wait for the previous render\n    window.requestAnimationFrame(function() {\n      $this.setState({\n        componentHeight: $this.currentComponent.current.getBoundingClientRect().height,\n        componentWidth: $this.currentComponent.current.getBoundingClientRect().width\n      });\n    });\n  }\n\n  handleScroll = (event) => {\n    if(this.state.enableScroll){\n      const imgSize = parseInt(imgProperties.imgSize, 10);\n      const imgMargin = parseInt(imgProperties.imgMargin, 10);\n      const imgOffset = 2 * imgMargin + imgSize;\n\n      const scrollOffset = (imgOffset * CELL_PADDING)\n      \n      // Paragraph comment on how this works\n      const scrollDownTrigger = (imgOffset * (5 / 3) * CELL_PADDING);\n      const scrollUpTrigger = (imgOffset * (1 / 3) * CELL_PADDING);\n      \n      const scaling = this.numRenderedbox();\n      const endValue = scaling.numX * (scaling.numY + 2 * CELL_PADDING) + this.state.startValue;\n      \n      if(endValue < this.props.numElements) {\n        if(scrollDownTrigger < this.currentComponent.current.scrollTop){\n          this.setState({\n            startValue: (scaling.numX * CELL_PADDING) + this.state.startValue,\n            enableScroll: false\n          }, function(){\n            const tempEndVal = scaling.numX * (scaling.numY + 2 * CELL_PADDING) + this.state.startValue;\n            const endVal = (tempEndVal > this.props.numElements)?this.props.numElements:tempEndVal;\n            this.props.getData(this.state.startValue, endVal);\n            this.props.getAnnotations(this.state.startValue, endVal);\n            this.currentComponent.current.scrollBy(0, -scrollOffset);\n            this.setState({\n              enableScroll: true\n            })\n          }, this);\n        }\n      }\n      \n      if(this.state.startValue > 0) {\n        if(scrollUpTrigger > this.currentComponent.current.scrollTop){\n          const startVal = this.state.startValue - (scaling.numX * CELL_PADDING)\n          this.setState({\n            startValue: (startVal < 0)?0:startVal,\n            enableScroll: false\n          }, function(){\n            this.currentComponent.current.scrollBy(0, scrollOffset);\n            const tempEndVal = scaling.numX * (scaling.numY + 2 * CELL_PADDING) + this.state.startValue;\n            const endVal = (tempEndVal > this.props.numElements)?this.props.numElements:tempEndVal;\n            this.props.getData(this.state.startValue, endVal);\n            this.props.getAnnotations(this.state.startValue, endVal);\n            this.setState({\n              enableScroll: true\n            })\n          }, this);\n        }\n      }\n    }\n  }\n\n  numRenderedbox = () => {\n    const imgSize = parseInt(imgProperties.imgSize, 10);\n    const imgMargin = parseInt(imgProperties.imgMargin, 10);\n    const imgOffset = 2 * imgMargin + imgSize;\n    \n    return {\n      numX: Math.floor((this.state.componentWidth)/imgOffset),\n      numY: Math.floor((this.state.componentHeight)/imgOffset)\n    }\n  }\n\n  renderBoxes = () => {\n    var boxes = [];    \n    const scaling = this.numRenderedbox();\n    const tempEndVal = scaling.numX * (scaling.numY + 2 * CELL_PADDING) + this.state.startValue;\n    const endValue = (tempEndVal > this.props.numElements)?this.props.numElements:tempEndVal;\n    const selectedBoxes = Object.keys(this.props.infiniteSelected);\n\n    // TODO: filter annotation  array use `x` as index into the array\n    for(var x = this.state.startValue; x < endValue; x++ ){\n      boxes.push(<ImageContainer key={`images_${x}`}\n                                 selected={selectedBoxes.includes(x.toString())}\n                                 src={this.props.imageData[x]}\n                                 addToSelected={this.props.addToSelected.bind(this)}\n                                 removeSelected={this.props.removeSelected.bind(this)}\n                                 annotation={this.props.annotationData[x]}\n                                 toggleInfiniteScroll={this.props.toggleInfiniteScroll.bind(this)}\n                                 updateIncrementalCurrentIndex={this.props.updateIncrementalCurrentIndex.bind(this)}\n                                 type={this.props.type}\n                                 value={x}/>)\n    }\n\n    return boxes;\n  }\n\n  onBackClick = (e) => {\n    if (e.shiftKey) {\n      \n    }else{\n      this.props.removeSelected();\n    }\n  }\n\n  render() {\n    return (\n      <div className={`${style.InfiniteScroll} ${style.noselect}`}\n           ref={this.currentComponent}\n           onScroll={this.handleScroll}\n           onClick={this.onBackClick.bind(this)}>\n        {this.renderBoxes()}\n      </div>\n    );\n  }\n}\n\nexport default InfiniteScroll;","import React, { Component } from 'react';\nimport style from './index.module.scss';\n  \nclass ToggleButton extends Component {\n  render() {\n    var NibClasses = style.ToggleButtonNib\n    var BackgroundClasses = style.ToggleButton\n    \n    if(this.props.hideAnnotated){\n      NibClasses = style.Toggled\n      BackgroundClasses = style.ToggleButtonOn\n    }\n  \n    return (\n      <div className={BackgroundClasses} \n           onClick={this.props.toggleHideAnnotated.bind(this)}>\n        <div className={NibClasses} \n             onClick={this.props.toggleHideAnnotated.bind(this)}>\n        </div>\n      </div>\n    );\n  }\n}\n  \nexport default ToggleButton;","import React, { Component } from 'react';\nimport style from './index.module.scss';\n\nimport ToggleButton from './ToggleButton/index';\n\nimport swap from './assets/swap.svg';\n\nclass StatusBar extends Component {\n  swapInfiniteScroll = () => {\n    this.props.toggleInfiniteScroll(this);\n    this.props.removeSelected();\n  }\n  render(){\n    return (\n      <div className={style.StatusBar}>\n        <div className={style.StatusBarMetrics}>\n            Total: {this.props.total}\n        </div>\n        <div>\n            <img src={swap}\n                 className={style.SwapButton}\n                 onClick={this.swapInfiniteScroll.bind(this)}/>\n            <div className={style.SwapButtonHelperText}>\n                Hide Annotated image\n            </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default StatusBar;","import React, { Component } from 'react';\nimport style from './index.module.scss';\n\nclass ImageLabeler extends Component {\n  constructor(props){\n    super(props);\n    this.currentComponent = React.createRef();\n    this.state = {\n      componentHeight: window.innerHeight,\n      componentWidth: window.innerWidth,\n    }\n  }\n\n  componentDidMount() {\n    this.updateDimensions();\n    window.addEventListener(\"resize\", this.updateDimensions.bind(this));\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.updateDimensions.bind(this));\n  }\n\n  handleImageLoaded = () => {\n    this.updateDimensions();\n  }\n\n  updateDimensions = () => {\n    const $this = this;\n    window.requestAnimationFrame(function() {\n      $this.setState({\n        componentHeight: $this.currentComponent.current.getBoundingClientRect().height,\n        componentWidth: $this.currentComponent.current.getBoundingClientRect().width\n      });\n    });\n  }\n\n  resizeImage(width, height) {\n    if((width/height) > (this.state.componentWidth/this.state.componentHeight)){\n      var scaling_factor = (height/width)*this.state.componentWidth;\n      var left_padding = (parseInt(((this.state.componentHeight - scaling_factor)/2), 10));\n\n      return {\"width\": this.state.componentWidth, \"height\": \"auto\", \"top\": left_padding, \"left\": 0};\n    } else {\n      var scaling_factor = (width/height)*this.state.componentHeight;\n      var left_padding = (parseInt(((this.state.componentWidth - scaling_factor)/2), 10));\n\n      return {\"width\": \"auto\", \"height\": this.state.componentHeight, \"top\": 0, \"left\": left_padding};\n    }\n  }\n  \n  render() {\n    if (this.props.src) {\n      return(\n        <div className={style.ImageLabeler}>\n          <div className={style.Image}\n               ref={this.currentComponent}>\n            <img src={this.props.src.src}\n                 className={style.ImageSrc}\n                 onLoad={this.handleImageLoaded.bind(this)}\n                 style={this.resizeImage(this.props.src.width, this.props.src.height)}/>\n          </div>\n        </div>\n      );\n    } else {\n      return (\n        <div className={style.ImageLabeler}>\n          <div className={`${style.Image} ${style.ImageShadow}`}>\n              <div className={style.ImageLoadingHolder}>\n                  <div className={style.bounce1}></div>\n                  <div className={style.bounce2}></div>\n                  <div className={style.bounce3}></div>\n              </div>\n          </div>\n        </div>\n      );\n    }\n  }\n}\n\nexport default ImageLabeler;","import React, { Component } from 'react';\nimport style from './index.module.scss';\n\nimport leftArrow from './assets/left_arrow.svg';\nimport rightArrow from './assets/right_arrow.svg';\nimport ImageLabeler from './ImageLabeler/index'\n\nclass SingleImage extends Component {\n\n  componentDidMount() {\n    this.props.getData(0, 1);\n  }\n\n  decrementIndex = () => {\n    if (this.props.incrementalCurrentIndex > 0) {\n      this.props.updateIncrementalCurrentIndex(this.props.incrementalCurrentIndex - 1);\n      this.props.getData((this.props.incrementalCurrentIndex - 2), this.props.incrementalCurrentIndex);\n      this.props.getAnnotations((this.props.incrementalCurrentIndex - 2), this.props.incrementalCurrentIndex);\n    }\n  }\n\n  incrementIndex = () => {\n    if (this.props.incrementalCurrentIndex < (this.props.numElements - 1)) {\n      this.props.updateIncrementalCurrentIndex(this.props.incrementalCurrentIndex + 1);\n      this.props.getData(this.props.incrementalCurrentIndex, (this.props.incrementalCurrentIndex + 2));\n      this.props.getAnnotations(this.props.incrementalCurrentIndex, (this.props.incrementalCurrentIndex + 2));\n    }\n  }\n\n  render() {\n    return (\n      <div className={style.SingleImage}>\n        <div className={style.SingleImageContainer}>\n            <div className={style.LeftArrow}\n                 onClick={this.decrementIndex.bind(this)}>\n                <img src={leftArrow} />\n            </div>\n            <ImageLabeler src={this.props.src}/>\n            <div className={style.RightArrow}\n                 onClick={this.incrementIndex.bind(this)}  >\n                <img src={rightArrow} />\n            </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SingleImage;","import React, { Component } from 'react';\nimport styles from './index.module.scss';\n\nclass ProgressBar extends Component {\n  render() {\n    const css_gradient = {\n      \"background\": \"-webkit-linear-gradient(left, #3b99fc 0%,#3b99fc \"+parseInt(this.props.percent, 10)+\"%,#ededeb \"+parseInt(this.props.percent, 10)+\"%,#ededeb 100%)\",\n      \"background\": \"linear-gradient(to right, #3b99fc 0%,#3b99fc \"+parseInt(this.props.percent, 10)+\"%,#ededeb \"+parseInt(this.props.percent, 10)+\"%,#ededeb 100%)\"\n    };\n  \n    return (\n      <div style={css_gradient} className={styles.ProgressBar}>\n      </div>\n    );\n  }\n}\n\nexport default ProgressBar;","import React, { Component } from 'react';\nimport styles from './index.module.scss';\nimport ProgressBar from './ProgressBar';\n  \nclass Label extends Component {\n  render() {\n    const percent_gradient = this.props.num_annotated * 100.0 / this.props.num_expected;\n  \n    var classes = [\n    styles.Label\n    ]\n\n    if(this.props.active){\n    classes.push(styles.LabelSelected);\n    }\n\n    return (\n    <div className={classes.join(\" \")}>\n      <div className={styles.LabelSpacer}>\n      <div className={styles.LabelNameAmount}>\n        <div className={styles.LabelName}>\n        <span title={this.props.name}>{this.props.name}</span>\n        </div>\n        <div className={styles.LabelAnnotatedAmount}>\n        <span>{this.props.num_annotated}</span>\n        </div>\n      </div>\n      <div className={styles.LabelApplyButton}\n           onClick={this.props.onClick.bind(this)}>\n        <span>\n        {(!this.props.active)?\"Apply\":\"\"}\n        </span>\n      </div>\n      <div>\n        <ProgressBar percent={percent_gradient}/>\n      </div>\n      </div>\n    </div>\n    );\n  }\n}\n  \nexport default Label;","import React, { Component } from 'react';\nimport styles from './index.module.scss';\n\t\nimport Labels from './Labels';\n\t\nclass LabelContainer extends Component {\n\n  setAnnotation = (name) => {\n    if(!this.props.infiniteScroll){\n      this.props.setAnnotation(this.props.incrementalCurrentIndex, name);\n    }else{\n      this.props.setAnnotationMass(name);\n    }\n  }\n\n  checkActive = (name) => {\n    if (!this.props.infiniteScroll) {\n      return this.props.annotationData[this.props.incrementalCurrentIndex] == name;\n    } else {\n      var selected_objects = Object.keys(this.props.infiniteSelected);\n      for (var x = 0; x < selected_objects.length; x++) {\n        if (this.props.annotationData[selected_objects[x]] == name) {\n          return true;\n        }\n      }\n      return false;\n    }\n  }\n\n  render() {\n    return (\n      <div className={styles.LabelContainer}>\n      \t<div className={styles.LabelHeader}>\n      \t\tLabels\n      \t</div>\n      \t<div className={styles.LabelButtonContainer}>\n      \t\t{\n            this.props.labels.map((x) => \n              <Labels active={this.checkActive(x.name)}\n                      name={x.name}\n                      onClick={this.setAnnotation.bind(this, x.name)}\n                      num_annotated={x.num_annotated}\n                      num_expected={x.num_expected}/>\n            )\n          }\n      \t</div>\n      \t<div className={styles.LabelAddLabelContainer}>\n      \t\t<button className={styles.LabelAddLabel}\n                  onClick={this.props.openLabelModal.bind(this)}>\n      \t\t\t+ Add New Label\n      \t\t</button>\n      \t</div>\n      </div>\n    );\n  }\n}\n\t\nexport default LabelContainer;","import React, { Component } from 'react';\nimport style from './index.module.scss';\n\nclass LabelModal extends Component {\n  constructor(props) {\n    super(props);\n    this.labelInput = React.createRef();\n  }\n\n  componentDidMount = () => {\n    this.labelInput.focus();\n  }\n\n  renderError = () => {\n    if(this.props.error){\n      return this .props.error;\n    }else{\n      return '\\xa0';\n    }\n  }\n  \n  render() {\n    return (\n      <div>\n        <div className={style.LabelModal}\n              onClick={this.props.closeLabelModal.bind(this)}>\n          Label Modal\n        </div>\n        <div className={style.modalWindow}>\n          <div className={style.modalWindowHeader}>\n            Add Labels\n          </div>\n          <div className={style.modalWindowDescription}>\n            Add a label to annotate your data with.\n          </div>\n          <div>\n            <div className={style.errorMessage}>\n              {this.renderError()}\n            </div>\n            <input type=\"text\"\n                   className={style.modalInput}\n                   placeholder=\"Annotation Label\"\n                   onChange={this.props.handleEventLabelModalValue.bind(this)}\n                   ref={(input) => { this.labelInput = input; }}/>\n          </div>\n          <div className={style.buttonContainer}>\n            <button className={style.createButton}\n                    onClick={this.props.createLabel.bind(this, this.props.LabelModalValue)}>\n              Create\n            </button>\n            <button className={style.cancelButton}\n                    onClick={this.props.closeLabelModal.bind(this)}>\n              Cancel\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default LabelModal;","import React, { Component } from 'react';\nimport style from './index.module.scss';\n\nimport error from './assets/error.svg';\n\n/* TODO: Design Better Error Message Compornent */\nclass ErrorBar extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n    }\n  }\n  render() {\n    return (\n      <div className={style.ErrorBar}>\n        <img src={error} className={style.ErrorIcon}/>\n        <div className={style.ErrorMessage}>\n          {this.props.message}\n        </div>\n        <div className={style.ErrorClose}\n             onClick={this.props.clearError}>\n          close\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ErrorBar;\n","import React, { Component } from 'react';\nimport style from './index.module.scss';\nimport ErrorBar from '../ErrorBar';\n\nclass NavigationBar extends Component{\n  constructor(props){\n    super(props);\n    this.state = {value:''};\n    this.handleChange = this.handleChange.bind(this);\n    this.enterPressJumpRow = this.enterPressJumpRow.bind(this);\n  }\n\n  handleChange(event){\n    this.setState({value: event.target.value});\n  };\n\n  enterPressJumpRow(e) {\n    if(e.keyCode == 13){\n      var image_number = parseInt(this.state.value,10);\n      this.setState({value:''});\n      if(this.state.value != null){\n        if (image_number < 0 || image_number >= this.props.numElements || isNaN(image_number)) {\n          this.props.setError(`Input '${this.state.value}', is invalid.`)\n        } else {\n          this.props.updateIncrementalCurrentIndex(image_number);\n          this.props.getData((image_number-1 ), image_number + 1);\n          this.props.getAnnotations((image_number - 1), image_number + 1);\n\n          if (this.props.infiniteScroll){\n            this.props.toggleInfiniteScroll();\n          }\n        }\n      }\n    }\n  }\n\n  render(){\n    return (\n      <div className={style.BottomBar}>\n        <div className={style.jumpToImageContainer}>\n          <input className={style.imageNumber}\n                 id={\"imgNum\"}\n                 onChange={this.handleChange}\n                 onKeyDown={this.enterPressJumpRow}\n                 placeholder={\"Jump to image\"}\n                 type={\"text\"}\n                 value={this.state.value}/>\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default NavigationBar;","import React, { Component } from 'react';\nimport style from './index.module.scss';\n\nimport { Root } from 'protobufjs';\nimport messageFormat from '../../format/message';\n\nimport InfiniteScroll from './InfiniteScroll';\nimport StatusBar from './StatusBar';\nimport SingleImage from './SingleImage';\nimport LabelContainer from './LabelContainer';\nimport LabelModal from './LabelModal';\nimport ErrorBar from './ErrorBar';\nimport NavigationBar from './NavigationBar';\nimport { LabelType } from './utils';\n\nconst DEFAULT_NUM_EXPECTED = 10;\nconst CACHE_SIZE = 1000;\n\n/* TODO: Indicator to Show how many Images were Annotated */\n/* TODO: Render Labels on Images */\n\nclass Annotate extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      infiniteScroll: false,\n      hideAnnotated: false,\n      labelModal: false,\n      totalError: \"\",\n      labelCreationError: null,\n      incrementalCurrentIndex: 0,\n      LabelModalValue: \"\",\n      imageData: {},\n      annotationData: {},\n      infiniteSelected:{},\n      labels:[],\n      type:null\n    }\n  }\n\n  componentDidMount() {\n    var labeltype;\n    var propLabels = this.props.metadata.imageClassification.label;\n\n    if (propLabels.length > 0) {\n      if(Object.keys(propLabels[0]).includes(\"stringLabel\")){\n        labeltype = LabelType.STRING;\n      }else{\n        labeltype = LabelType.INTEGER;\n      }\n    } else {\n      labeltype = LabelType.STRING;\n    }\n\n    if (labeltype == LabelType.STRING) {\n      propLabels = propLabels.filter(label => label.stringLabel != \"\");\n    }\n    \n    const labels = propLabels.map((x) => {\n      return {\n        name: (labeltype == LabelType.INTEGER)?x.intLabel:x.stringLabel,\n        num_annotated: x.elementCount,\n        num_expected: DEFAULT_NUM_EXPECTED\n      }\n    });\n\n    this.setState({\n      labels: labels,\n      type: labeltype\n    });\n  }\n\n  cleanCache = (start, end) => {\n    if (Object.keys(this.state.imageData).length > CACHE_SIZE) {\n      var sorted_keys = Object.keys(this.state.imageData).sort();\n      var lower_bound = sorted_keys[0];\n      var upper_bound = sorted_keys[sorted_keys.length - 1];\n\n      var intermediate_check = parseInt(((end - start)/2), 10);\n      if((Math.abs(intermediate_check - lower_bound)) > (Math.abs(intermediate_check - upper_bound))){\n        var delete_keys = sorted_keys.slice(lower_bound, (lower_bound + (end - start)));\n        const imgData = this.state.imageData;\n        for(var x = 0; x < delete_keys.length; x++){\n          delete imgData[delete_keys[x]];\n        }\n        this.setState({\n          imageData: imgData\n        });\n      }else{\n        var delete_keys = sorted_keys.slice((upper_bound - (end - start)), upper_bound);\n        const imgData = this.state.imageData;\n        for(var x = 0; x < delete_keys.length; x++){\n          delete imgData[delete_keys[x]];\n        }\n        this.setState({\n          imageData: imgData\n        });\n      }\n    }\n  }\n  \n\n  getData = (start, end) => {\n    this.cleanCache(start, end);\n    this.getAnnotations(start, end);\n    this.getHelper(start, end, 0);\n  }\n\n  getAnnotations = (start, end) => {\n    this.getHelper(start, end, 1);\n  }\n\n  getHelper = (start, end, type) => {\n    const root = Root.fromJSON(messageFormat);\n    const ParcelMessage = root.lookupType(\"TuriCreate.Annotation.Specification.ClientRequest\");\n    const payload = {\"getter\": {\"type\": type, \"start\": start, \"end\": end}};\n    const err = ParcelMessage.verify(payload);\n    if (err)\n      throw Error(err);\n    \n    const message = ParcelMessage.create(payload);\n    const buffer = ParcelMessage.encode(message).finish();\n    const encoded = btoa(String.fromCharCode.apply(null, buffer));\n\n    if (window.navigator.platform == 'MacIntel') {\n      window.webkit.messageHandlers[\"scriptHandler\"].postMessage({status: 'writeProtoBuf', message: encoded});\n    } else {\n      window.postMessageToNativeClient(encoded);\n    }\n  }\n\n  setAnnotationData = (key, value) => {\n    var previousAnnotationData = this.state.annotationData;\n\n    if (this.state.type == LabelType.STRING) {\n      previousAnnotationData[key] = value.stringLabel;\n    } else if(this.state.type == LabelType.INTEGER) {\n      previousAnnotationData[key] = value.intLabel;\n    }\n\n    this.setState({\n      annotationData: previousAnnotationData\n    });\n  }\n\n  setImageData = (key, value, width, height) => {\n    var previousImageData = this.state.imageData;\n    previousImageData[key] = {src:value, width:width, height:height};\n    this.setState({\n      imageData: previousImageData\n    });\n  }\n\n\n  clearError = () => {\n    this.setState({\n      totalError: \"\"\n    });\n  }\n\n  setError = (error_message) => {\n    this.setState({\n      totalError: error_message\n    });\n  }\n\n  updateIncrementalCurrentIndex = (index) => {\n    this.setState({\n      incrementalCurrentIndex: index\n    })\n  }\n\n  handleEventLabelModalValue = (e) => {\n    this.setState({\n      LabelModalValue: e.target.value\n    });\n  }\n  \n  openLabelModal = () => {\n    this.setState({\n      labelCreationError: null,\n      labelModal: true,\n      LabelModalValue: \"\"\n    });\n  }\n\n  closeLabelModal = () => {\n    this.setState({\n      labelCreationError: null,\n      labelModal: false,\n      LabelModalValue: \"\"\n    });\n  }\n\n  addToSelected = (index) => {\n    var infiniteSelected = this.state.infiniteSelected;\n\n    if (infiniteSelected[parseInt(index, 10)]!= null) {\n      delete infiniteSelected[parseInt(index, 10)];\n    } else {\n      infiniteSelected[parseInt(index, 10)] = true;\n    }\n    \n    this.setState({\n      infiniteSelected: infiniteSelected\n    });\n  }\n\n  removeSelected = () => {\n    this.setState({\n      infiniteSelected:{}\n    })\n  }\n\n  createLabel = (label) => {\n    const notDuplicateLabel = this.state.labels.map(l => (l.name != label))\n                                            .reduce((acc, b) => (acc && b), true);\n\n    if(!notDuplicateLabel){\n      this.setState({\n        labelCreationError: `${label} already exists as a label name`\n      });\n      return;\n    }\n\n    var mutatorLabels = this.state.labels;\n    \n    mutatorLabels.push({\n      name: label,\n      num_annotated: 0,\n      num_expected: DEFAULT_NUM_EXPECTED\n    });\n\n    this.setState({\n      labels: mutatorLabels,\n      labelCreationError: null,\n      labelModal: false,\n      LabelModalValue: \"\"\n    });\n  }\n\n  toggleInfiniteScroll = () => {\n    this.setState({\n      infiniteScroll: !this.state.infiniteScroll\n    });\n  }\n\n  toggleHideAnnotated = () => {\n    this.setState({\n      hideAnnotated: !this.state.hideAnnotated\n    });\n  }\n\n  setAnnotationMass = (name) => {\n    const selectedValue = Object.keys(this.state.infiniteSelected);\n    for (var i = 0; i < selectedValue.length; i++) {\n      this.setAnnotation(parseInt(selectedValue[i], 10), name);\n    }\n  }\n\n  setAnnotation = (rowIndex, labels) => {\n    var previousAnnotationData = this.state.annotationData;\n    var previousLabelData = this.state.labels;\n    var previousLabel = previousAnnotationData[rowIndex];\n\n    if(previousLabel == labels){\n      return;\n    }\n    if(previousLabel != null){\n      for (var x = 0; x < previousLabelData.length; x++) {\n        if(this.state.labels[x].name == previousLabel) {\n          var tempLabel = previousLabelData[x];\n          tempLabel.num_annotated -= 1;\n          previousLabelData[x] = tempLabel;\n        }\n        if(this.state.labels[x].name == labels){\n          var tempLabel = previousLabelData[x];\n          tempLabel.num_annotated += 1;\n          previousLabelData[x] = tempLabel;\n        }\n      }\n    }\n\n    if (this.state.type == LabelType.STRING) {\n      previousAnnotationData[rowIndex] = labels;\n    } else if(this.state.type == LabelType.INTEGER) {\n      previousAnnotationData[rowIndex] = parseInt(labels, 10);\n    }\n\n    const root = Root.fromJSON(messageFormat);\n    const ParcelMessage = root.lookupType(\"TuriCreate.Annotation.Specification.ClientRequest\");\n    \n    var payload;\n\n    if (this.state.type == LabelType.STRING) {\n      payload = {\"annotations\": {\"annotation\":[{\"labels\": [{\"stringLabel\": labels}], \"rowIndex\": [rowIndex]}]}};\n    } else {\n      payload = {\"annotations\": {\"annotation\":[{\"labels\": [{\"intLabel\": parseInt(labels, 10)}], \"rowIndex\": [rowIndex]}]}};\n    }\n\n    const err = ParcelMessage.verify(payload);\n    \n    if (err)\n      throw Error(err);\n\n    const message = ParcelMessage.create(payload);\n    const buffer = ParcelMessage.encode(message).finish();\n    const encoded = btoa(String.fromCharCode.apply(null, buffer));\n\n    if (window.navigator.platform == 'MacIntel') {\n      window.webkit.messageHandlers[\"scriptHandler\"].postMessage({status: 'writeProtoBuf', message: encoded});\n    } else {\n      window.postMessageToNativeClient(encoded);\n    }\n\n    this.setState({\n      annotationData: previousAnnotationData,\n      labels:previousLabelData\n    });\n  }\n\n  renderMainContent = () => {\n    if(this.state.infiniteScroll) {\n      return (\n        <InfiniteScroll numElements={this.props.metadata.numExamples}\n                        hideAnnotated={this.state.hideAnnotated}\n                        incrementalCurrentIndex={this.state.incrementalCurrentIndex}\n                        updateIncrementalCurrentIndex={this.updateIncrementalCurrentIndex.bind(this)}\n                        toggleInfiniteScroll={this.toggleInfiniteScroll.bind(this)}\n                        infiniteSelected={this.state.infiniteSelected}\n                        imageData={this.state.imageData}\n                        annotationData={this.state.annotationData}\n                        getData={this.getData.bind(this)}\n                        type={this.state.type}\n                        addToSelected={this.addToSelected.bind(this)}\n                        removeSelected={this.removeSelected.bind(this)}\n                        getAnnotations={this.getAnnotations.bind(this)} />\n      );\n    } else {\n      return (\n        <SingleImage src={this.state.imageData[this.state.incrementalCurrentIndex]}\n                     getData={this.getData.bind(this)}\n                     getAnnotations={this.getAnnotations.bind(this)}\n                     numElements={this.props.metadata.numExamples}\n                     incrementalCurrentIndex={this.state.incrementalCurrentIndex}\n                     updateIncrementalCurrentIndex={this.updateIncrementalCurrentIndex.bind(this)}/>\n      );\n    }\n  }\n\n  renderModal = () => {\n    if(this.state.labelModal){\n      return(\n        <LabelModal closeLabelModal={this.closeLabelModal.bind(this)}\n                    createLabel={this.createLabel.bind(this)}\n                    error={this.state.labelCreationError}\n                    LabelModalValue={this.state.LabelModalValue}\n                    handleEventLabelModalValue={this.handleEventLabelModalValue.bind(this)}/>\n      )\n    }\n  }\n\n  renderError = () => {\n    if(this.state.totalError){\n      return (<ErrorBar message={this.state.totalError}\n                        clearError={this.clearError.bind(this)}/>);\n    }\n  }\n\n  render() {\n    return (\n      <div className={style.Annotate}>\n        {this.renderModal()}\n        {this.renderError()}\n        <div>\n            {/* Add Annotated to Protobuf Message */}\n            <StatusBar total={this.props.metadata.numExamples}\n                       infiniteScroll={this.state.infiniteScroll}\n                       toggleInfiniteScroll={this.toggleInfiniteScroll.bind(this)}\n                       removeSelected={this.removeSelected.bind(this)}\n                       hideAnnotated={this.state.hideAnnotated}\n                       toggleHideAnnotated={this.toggleHideAnnotated.bind(this)}/>\n\n            {this.renderMainContent()}\n        <NavigationBar infiniteScroll={this.state.infiniteScroll}\n                       setError={this.setError.bind(this)}\n                       numElements={this.props.metadata.numExamples}\n                       toggleInfiniteScroll={this.toggleInfiniteScroll.bind(this)}\n                       updateIncrementalCurrentIndex={this.updateIncrementalCurrentIndex.bind(this)}\n                       getData={this.getData.bind(this)}\n                       getAnnotations={this.getAnnotations.bind(this)}/>\n        </div>\n        <div className={style.leftBar}>\n        <LabelContainer labels={this.state.labels}\n                        incrementalCurrentIndex={this.state.incrementalCurrentIndex}\n                        infiniteScroll={this.state.infiniteScroll}\n                        infiniteSelected={this.state.infiniteSelected}\n                        setAnnotation={this.setAnnotation.bind(this)}\n                        setAnnotationMass={this.setAnnotationMass.bind(this)}\n                        openLabelModal={this.openLabelModal.bind(this)}\n                        closeLabelModal={this.closeLabelModal.bind(this)}\n                        annotationData={this.state.annotationData}/>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Annotate;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport TcPlot from './elements/Plot/Chart/index.js';\nimport TcSummary from './elements/Plot/Summary/index.js';\nimport TcTable from './elements/Explore/Table/index.js';\nimport TCEvaluation from './elements/Explore/Evaluation/index.js';\n\nimport messageFormat from './format/message';\n\nimport { load, Root } from 'protobufjs';\n\nimport TCAnnotate from './elements/Annotate';\n\nvar command_down = 0;\nvar body_zoom = 100;\n\nvar LEFT_COMMAND_KEY = 91;\nvar RIGHT_COMMAND_KEY = 93;\nvar PLUS_KEY = 187;\nvar MINUS_KEY = 189;\n\n\ndocument.onkeydown = function(e) {\n    var key_code = e.keyCode || e.charCode;\n    if (key_code == LEFT_COMMAND_KEY || key_code == RIGHT_COMMAND_KEY){\n        command_down += 1;\n    }\n    \n    if(key_code == PLUS_KEY && command_down > 0){\n        body_zoom += 10;\n        document.body.style.zoom = body_zoom+\"%\"\n    }\n    \n    if(key_code == MINUS_KEY && command_down > 0){\n        if(body_zoom > 10){\n            body_zoom -= 10;\n            document.body.style.zoom = body_zoom+\"%\"\n        }\n    }\n};\n\ndocument.onkeyup = function(e) {\n    var key_code = e.keyCode || e.charCode;\n    \n    if (key_code == LEFT_COMMAND_KEY || key_code == RIGHT_COMMAND_KEY){\n        command_down -= 1;\n    }\n};\n\nvar SpecType = Object.freeze({\"table\":1, \"vega\":2, \"summary\":3, \"annotate\": 4, \"evaluate\": 5})\nwindow.flex_type_enum = Object.freeze({\"integer\":0, \"float\":1, \"string\":2, \"vector\": 3, \"list\": 4, \"dict\": 5, \"datetime\": 6, \"undefined\": 7, \"image\": 8, \"nd_vector\": 9});\n\nvar component_rendered = null;\nvar spec_type = null;\n\n\nfunction resetDisplay(){\n    document.getElementById('loading_container').style.display = \"block\";\n    document.getElementById('table_vis').style.display = 'none';\n    document.getElementById('vega_vis').style.display = 'none';\n    document.getElementById('annotate_viz').style.display = 'none';\n    component_rendered = null;\n    spec_type = null;\n}\n\nwindow.setSpec = function setSpec(value) {\n    resetDisplay();\n    switch(value.type) {\n        case \"vega\":\n            document.getElementById(\"loading_container\").style.display = \"none\";\n            document.getElementById('vega_vis').style.display = 'block';\n            component_rendered = ReactDOM.render(<TcPlot vega_spec={value.data} />, document.getElementById('vega_vis'));\n            spec_type = SpecType.vega;\n            break;\n        case \"table\":\n            document.getElementById('table_vis').style.display = 'block';\n            component_rendered = ReactDOM.render(<TcTable table_spec={value.data} />, document.getElementById('table_vis'));\n            spec_type = SpecType.table;\n            break;\n        case \"summary\":\n            spec_type = SpecType.summary;\n            break;\n        case \"evaluate\":\n            document.getElementById(\"loading_container\").style.display = \"none\";\n            document.getElementById('evaluation_vis').style.display = 'block';\n            component_rendered = ReactDOM.render(<TCEvaluation spec={value.data} />, document.getElementById('evaluation_vis'));\n            spec_type = SpecType.evaluate;\n            break;\n            \n        default:\n            break;\n    }\n}\n\nwindow.setProtoMessage = function setProtoMessage(value){\n    \n    document.getElementById(\"loading_container\").style.display = \"none\";\n    document.getElementById('annotate_viz').style.display = 'block';\n    \n    var root = Root.fromJSON(messageFormat);\n    \n    const ParcelMessage = root.lookupType(\"TuriCreate.Annotation.Specification.Parcel\");\n    const buffer = Uint8Array.from(atob(value), c => c.charCodeAt(0));\n    var decoded = ParcelMessage.decode(buffer);\n    \n    if (decoded.hasOwnProperty('metadata')) {\n        component_rendered = ReactDOM.render(<TCAnnotate metadata={decoded.metadata}/>, document.getElementById('annotate_viz'));\n        spec_type = SpecType.annotate;\n    } else if(decoded.hasOwnProperty('data')) {\n        for (var i = 0; i < decoded[\"data\"][\"data\"].length; i++) {\n            const row_index = decoded[\"data\"][\"data\"][i][\"rowIndex\"];\n            const type = decoded[\"data\"][\"data\"][i][\"images\"][0][\"type\"];\n            const data = decoded[\"data\"][\"data\"][i][\"images\"][0][\"imgData\"];\n            \n            const width = decoded[\"data\"][\"data\"][i][\"images\"][0][\"width\"];\n            const height = decoded[\"data\"][\"data\"][i][\"images\"][0][\"height\"];\n\n            const image = \"data:image/\" + type + \";base64,\" + data;\n\n            component_rendered.setImageData(row_index, image, width, height);\n        }\n    } else if(decoded.hasOwnProperty('annotations')) {\n        for (var i = 0; i < decoded[\"annotations\"][\"annotation\"].length; i++) {\n            const row_index = decoded[\"annotations\"][\"annotation\"][i][\"rowIndex\"][0];\n            const annotation = decoded[\"annotations\"][\"annotation\"][i][\"labels\"][0];\n            component_rendered.setAnnotationData(row_index, annotation);\n        }\n    }\n}\n\nwindow.updateData = function updateData(data) {\n    switch(spec_type){\n        case SpecType.table:\n        case SpecType.summary:\n        case SpecType.vega:\n        case SpecType.evaluate:\n            document.getElementById(\"loading_container\").style.display = \"none\";\n            component_rendered.updateData(data);\n            break;\n        default:\n            console.log(\"default\");\n    }\n}\n\nwindow.getSpec = function getSpec(){\n    switch(spec_type){\n        case SpecType.summary:\n        case SpecType.vega:\n            return component_rendered.getSpec();\n        default:\n            return \"\";\n    }\n}\n\nwindow.getData = function getData(){\n    switch(spec_type){\n        case SpecType.summary:\n        case SpecType.vega:\n            return component_rendered.getData();\n        default:\n            return \"\";\n    }\n}\n\nwindow.setImageData = function setImageData(value){\n    switch(spec_type){\n        case SpecType.table:\n            return component_rendered.setImageData(value);\n        default:\n            return \"\";\n    }\n}\n\nwindow.setAccordionData = function setAccordionData(value){\n    switch(spec_type){\n        case SpecType.table:\n            return component_rendered.setAccordionData(value);\n        default:\n            return \"\";\n    }\n}\n\nwindow.export_png = function export_png(){\n    switch(spec_type){\n        case SpecType.summary:\n        case SpecType.vega:\n            return component_rendered.exportPNG();\n        default:\n            return \"\";\n    }\n}\n\nwindow.handleInput = function(data){\n  var json_obj = data;\n\n  if(json_obj[\"table_spec\"] != null) {\n    var input_data = {};\n    input_data[\"data\"] = json_obj[\"table_spec\"];\n    input_data[\"type\"] = \"table\";\n\n    window.setSpec(input_data);\n  }\n\n  if(json_obj[\"vega_spec\"] != null) {\n    var input_data = {};\n    input_data[\"data\"] = json_obj[\"vega_spec\"];\n    input_data[\"type\"] = \"vega\";\n\n    window.setSpec(input_data);\n  }\n\n  if(json_obj[\"data_spec\"] != null) {\n    window.updateData(json_obj[\"data_spec\"]);\n  }\n\n  if(json_obj[\"image_spec\"] != null) {\n    var input_data = {};\n    input_data[\"data\"] = json_obj[\"image_spec\"];\n    window.setImageData(input_data);\n  }\n\n  if(json_obj[\"accordion_spec\"] != null) {\n    var input_data = {};\n    input_data[\"data\"] = json_obj[\"accordion_spec\"];\n    window.setAccordionData(input_data);\n  }\n}\n\nwindow.addEventListener('contextmenu', event => event.preventDefault());\n"],"sourceRoot":""}